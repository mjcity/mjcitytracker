function up(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hd={exports:{}},Ji={},fd={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),dp=Symbol.for("react.portal"),hp=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),mp=Symbol.for("react.provider"),gp=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),wp=Symbol.for("react.memo"),xp=Symbol.for("react.lazy"),wu=Symbol.iterator;function _p(e){return e===null||typeof e!="object"?null:(e=wu&&e[wu]||e["@@iterator"],typeof e=="function"?e:null)}var pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},md=Object.assign,gd={};function vn(e,t,r){this.props=e,this.context=t,this.refs=gd,this.updater=r||pd}vn.prototype.isReactComponent={};vn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vd(){}vd.prototype=vn.prototype;function vl(e,t,r){this.props=e,this.context=t,this.refs=gd,this.updater=r||pd}var yl=vl.prototype=new vd;yl.constructor=vl;md(yl,vn.prototype);yl.isPureReactComponent=!0;var xu=Array.isArray,yd=Object.prototype.hasOwnProperty,wl={current:null},wd={key:!0,ref:!0,__self:!0,__source:!0};function xd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)yd.call(t,n)&&!wd.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ks,type:e,key:i,ref:a,props:s,_owner:wl.current}}function bp(e,t){return{$$typeof:ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ks}function kp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _u=/\/+/g;function xa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kp(""+e.key):t.toString(36)}function ii(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ks:case dp:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+xa(a,0):n,xu(s)?(r="",e!=null&&(r=e.replace(_u,"$&/")+"/"),ii(s,t,r,"",function(u){return u})):s!=null&&(xl(s)&&(s=bp(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_u,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",xu(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+xa(i,o);a+=ii(i,t,r,l,s)}else if(l=_p(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+xa(i,o++),a+=ii(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ts(e,t,r){if(e==null)return e;var n=[],s=0;return ii(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Sp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},ai={transition:null},Ep={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ai,ReactCurrentOwner:wl};function _d(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Ts,forEach:function(e,t,r){Ts(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ts(e,function(){t++}),t},toArray:function(e){return Ts(e,function(t){return t})||[]},only:function(e){if(!xl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=vn;M.Fragment=hp;M.Profiler=pp;M.PureComponent=vl;M.StrictMode=fp;M.Suspense=yp;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ep;M.act=_d;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=md({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=wl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)yd.call(t,l)&&!wd.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ks,type:e.type,key:s,ref:i,props:n,_owner:a}};M.createContext=function(e){return e={$$typeof:gp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mp,_context:e},e.Consumer=e};M.createElement=xd;M.createFactory=function(e){var t=xd.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:vp,render:e}};M.isValidElement=xl;M.lazy=function(e){return{$$typeof:xp,_payload:{_status:-1,_result:e},_init:Sp}};M.memo=function(e,t){return{$$typeof:wp,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=ai.transition;ai.transition={};try{e()}finally{ai.transition=t}};M.unstable_act=_d;M.useCallback=function(e,t){return Se.current.useCallback(e,t)};M.useContext=function(e){return Se.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};M.useEffect=function(e,t){return Se.current.useEffect(e,t)};M.useId=function(){return Se.current.useId()};M.useImperativeHandle=function(e,t,r){return Se.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return Se.current.useMemo(e,t)};M.useReducer=function(e,t,r){return Se.current.useReducer(e,t,r)};M.useRef=function(e){return Se.current.useRef(e)};M.useState=function(e){return Se.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return Se.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return Se.current.useTransition()};M.version="18.3.1";fd.exports=M;var b=fd.exports;const bt=cp(b),jp=up({__proto__:null,default:bt},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=b,Pp=Symbol.for("react.element"),Np=Symbol.for("react.fragment"),Tp=Object.prototype.hasOwnProperty,Op=Cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rp={key:!0,ref:!0,__self:!0,__source:!0};function bd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Tp.call(t,n)&&!Rp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Pp,type:e,key:i,ref:a,props:s,_owner:Op.current}}Ji.Fragment=Np;Ji.jsx=bd;Ji.jsxs=bd;hd.exports=Ji;var c=hd.exports,oo={},kd={exports:{}},We={},Sd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,D){var z=O.length;O.push(D);e:for(;0<z;){var H=z-1>>>1,N=O[H];if(0<s(N,D))O[H]=D,O[z]=N,z=H;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var D=O[0],z=O.pop();if(z!==D){O[0]=z;e:for(var H=0,N=O.length,I=N>>>1;H<I;){var U=2*(H+1)-1,je=O[U],oe=U+1,Ae=O[oe];if(0>s(je,z))oe<N&&0>s(Ae,je)?(O[H]=Ae,O[oe]=z,H=oe):(O[H]=je,O[U]=z,H=U);else if(oe<N&&0>s(Ae,z))O[H]=Ae,O[oe]=z,H=oe;else break e}}return D}function s(O,D){var z=O.sortIndex-D.sortIndex;return z!==0?z:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,h=3,g=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=O)n(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=r(u)}}function _(O){if(w=!1,y(O),!v)if(r(l)!==null)v=!0,pt(S);else{var D=r(u);D!==null&&Sn(_,D.startTime-O)}}function S(O,D){v=!1,w&&(w=!1,p(k),k=-1),g=!0;var z=h;try{for(y(D),f=r(l);f!==null&&(!(f.expirationTime>D)||O&&!xe());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var N=H(f.expirationTime<=D);D=e.unstable_now(),typeof N=="function"?f.callback=N:f===r(l)&&n(l),y(D)}else n(l);f=r(l)}if(f!==null)var I=!0;else{var U=r(u);U!==null&&Sn(_,U.startTime-D),I=!1}return I}finally{f=null,h=z,g=!1}}var E=!1,C=null,k=-1,P=5,T=-1;function xe(){return!(e.unstable_now()-T<P)}function ft(){if(C!==null){var O=e.unstable_now();T=O;var D=!0;try{D=C(!0,O)}finally{D?ir():(E=!1,C=null)}}else E=!1}var ir;if(typeof m=="function")ir=function(){m(ft)};else if(typeof MessageChannel<"u"){var kn=new MessageChannel,Ns=kn.port2;kn.port1.onmessage=ft,ir=function(){Ns.postMessage(null)}}else ir=function(){x(ft,0)};function pt(O){C=O,E||(E=!0,ir())}function Sn(O,D){k=x(function(){O(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,pt(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var z=h;h=D;try{return O()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=h;h=O;try{return D()}finally{h=z}},e.unstable_scheduleCallback=function(O,D,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,O){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=z+N,O={id:d++,callback:D,priorityLevel:O,startTime:z,expirationTime:N,sortIndex:-1},z>H?(O.sortIndex=z,t(u,O),r(l)===null&&O===r(u)&&(w?(p(k),k=-1):w=!0,Sn(_,z-H))):(O.sortIndex=N,t(l,O),v||g||(v=!0,pt(S))),O},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(O){var D=h;return function(){var z=h;h=D;try{return O.apply(this,arguments)}finally{h=z}}}})(Ed);Sd.exports=Ed;var Ap=Sd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=b,Fe=Ap;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jd=new Set,Yn={};function Er(e,t){un(e,t),un(e+"Capture",t)}function un(e,t){for(Yn[e]=t,e=0;e<t.length;e++)jd.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=Object.prototype.hasOwnProperty,Lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bu={},ku={};function $p(e){return lo.call(ku,e)?!0:lo.call(bu,e)?!1:Lp.test(e)?ku[e]=!0:(bu[e]=!0,!1)}function Dp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Up(e,t,r,n){if(t===null||typeof t>"u"||Dp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var _l=/[\-:]([a-z])/g;function bl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_l,bl);pe[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_l,bl);pe[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_l,bl);pe[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function kl(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Up(t,r,s,n)&&(r=null),n||s===null?$p(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pt=Ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Sl=Symbol.for("react.strict_mode"),uo=Symbol.for("react.profiler"),Cd=Symbol.for("react.provider"),Pd=Symbol.for("react.context"),El=Symbol.for("react.forward_ref"),co=Symbol.for("react.suspense"),ho=Symbol.for("react.suspense_list"),jl=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Nd=Symbol.for("react.offscreen"),Su=Symbol.iterator;function jn(e){return e===null||typeof e!="object"?null:(e=Su&&e[Su]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,_a;function Ln(e){if(_a===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_a=t&&t[1]||""}return`
`+_a+e}var ba=!1;function ka(e,t){if(!e||ba)return"";ba=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{ba=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ln(e):""}function zp(e){switch(e.tag){case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 2:case 15:return e=ka(e.type,!1),e;case 11:return e=ka(e.type.render,!1),e;case 1:return e=ka(e.type,!0),e;default:return""}}function fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Fr:return"Portal";case uo:return"Profiler";case Sl:return"StrictMode";case co:return"Suspense";case ho:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pd:return(e.displayName||"Context")+".Consumer";case Cd:return(e._context.displayName||"Context")+".Provider";case El:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jl:return t=e.displayName||null,t!==null?t:fo(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return fo(e(t))}catch{}}return null}function Mp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fo(t);case 8:return t===Sl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bp(e){var t=Td(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){e._valueTracker||(e._valueTracker=Bp(e))}function Od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Td(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function po(e,t){var r=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Eu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rd(e,t){t=t.checked,t!=null&&kl(e,"checked",t,!1)}function mo(e,t){Rd(e,t);var r=Zt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?go(e,t.type,r):t.hasOwnProperty("defaultValue")&&go(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ju(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function go(e,t,r){(t!=="number"||vi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $n=Array.isArray;function tn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(j(92));if($n(r)){if(1<r.length)throw Error(j(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zt(r)}}function Ad(e,t){var r=Zt(t.value),n=Zt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Id(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Id(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var As,Ld=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=As.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fp=["Webkit","ms","Moz","O"];Object.keys(Mn).forEach(function(e){Fp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mn[t]=Mn[e]})});function $d(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mn.hasOwnProperty(e)&&Mn[e]?(""+t).trim():t+"px"}function Dd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$d(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Wp=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wo(e,t){if(t){if(Wp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function xo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=null;function Cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bo=null,rn=null,nn=null;function Nu(e){if(e=js(e)){if(typeof bo!="function")throw Error(j(280));var t=e.stateNode;t&&(t=ea(t),bo(e.stateNode,e.type,t))}}function Ud(e){rn?nn?nn.push(e):nn=[e]:rn=e}function zd(){if(rn){var e=rn,t=nn;if(nn=rn=null,Nu(e),t)for(e=0;e<t.length;e++)Nu(t[e])}}function Md(e,t){return e(t)}function Bd(){}var Sa=!1;function Fd(e,t,r){if(Sa)return e(t,r);Sa=!0;try{return Md(e,t,r)}finally{Sa=!1,(rn!==null||nn!==null)&&(Bd(),zd())}}function Zn(e,t){var r=e.stateNode;if(r===null)return null;var n=ea(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(j(231,t,typeof r));return r}var ko=!1;if(St)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{ko=!1}function Vp(e,t,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bn=!1,yi=null,wi=!1,So=null,Hp={onError:function(e){Bn=!0,yi=e}};function qp(e,t,r,n,s,i,a,o,l){Bn=!1,yi=null,Vp.apply(Hp,arguments)}function Kp(e,t,r,n,s,i,a,o,l){if(qp.apply(this,arguments),Bn){if(Bn){var u=yi;Bn=!1,yi=null}else throw Error(j(198));wi||(wi=!0,So=u)}}function jr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tu(e){if(jr(e)!==e)throw Error(j(188))}function Gp(e){var t=e.alternate;if(!t){if(t=jr(e),t===null)throw Error(j(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Tu(s),e;if(i===n)return Tu(s),t;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?e:t}function Vd(e){return e=Gp(e),e!==null?Hd(e):null}function Hd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hd(e);if(t!==null)return t;e=e.sibling}return null}var qd=Fe.unstable_scheduleCallback,Ou=Fe.unstable_cancelCallback,Jp=Fe.unstable_shouldYield,Qp=Fe.unstable_requestPaint,te=Fe.unstable_now,Yp=Fe.unstable_getCurrentPriorityLevel,Pl=Fe.unstable_ImmediatePriority,Kd=Fe.unstable_UserBlockingPriority,xi=Fe.unstable_NormalPriority,Xp=Fe.unstable_LowPriority,Gd=Fe.unstable_IdlePriority,Qi=null,dt=null;function Zp(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Qi,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:rm,em=Math.log,tm=Math.LN2;function rm(e){return e>>>=0,e===0?32:31-(em(e)/tm|0)|0}var Is=64,Ls=4194304;function Dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _i(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Dn(o):(i&=a,i!==0&&(n=Dn(i)))}else a=r&~s,a!==0?n=Dn(a):i!==0&&(n=Dn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-st(t),s=1<<r,n|=e[r],t&=~s;return n}function nm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-st(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=nm(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jd(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function Ea(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ss(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=r}function im(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-st(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Nl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var F=0;function Qd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yd,Tl,Xd,Zd,eh,jo=!1,$s=[],Vt=null,Ht=null,qt=null,es=new Map,ts=new Map,Dt=[],am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function Pn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=js(t),t!==null&&Tl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function om(e,t,r,n,s){switch(t){case"focusin":return Vt=Pn(Vt,e,t,r,n,s),!0;case"dragenter":return Ht=Pn(Ht,e,t,r,n,s),!0;case"mouseover":return qt=Pn(qt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return es.set(i,Pn(es.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ts.set(i,Pn(ts.get(i)||null,e,t,r,n,s)),!0}return!1}function th(e){var t=pr(e.target);if(t!==null){var r=jr(t);if(r!==null){if(t=r.tag,t===13){if(t=Wd(r),t!==null){e.blockedOn=t,eh(e.priority,function(){Xd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Co(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_o=n,r.target.dispatchEvent(n),_o=null}else return t=js(r),t!==null&&Tl(t),e.blockedOn=r,!1;t.shift()}return!0}function Au(e,t,r){oi(e)&&r.delete(t)}function lm(){jo=!1,Vt!==null&&oi(Vt)&&(Vt=null),Ht!==null&&oi(Ht)&&(Ht=null),qt!==null&&oi(qt)&&(qt=null),es.forEach(Au),ts.forEach(Au)}function Nn(e,t){e.blockedOn===t&&(e.blockedOn=null,jo||(jo=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,lm)))}function rs(e){function t(s){return Nn(s,e)}if(0<$s.length){Nn($s[0],e);for(var r=1;r<$s.length;r++){var n=$s[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vt!==null&&Nn(Vt,e),Ht!==null&&Nn(Ht,e),qt!==null&&Nn(qt,e),es.forEach(t),ts.forEach(t),r=0;r<Dt.length;r++)n=Dt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dt.length&&(r=Dt[0],r.blockedOn===null);)th(r),r.blockedOn===null&&Dt.shift()}var sn=Pt.ReactCurrentBatchConfig,bi=!0;function um(e,t,r,n){var s=F,i=sn.transition;sn.transition=null;try{F=1,Ol(e,t,r,n)}finally{F=s,sn.transition=i}}function cm(e,t,r,n){var s=F,i=sn.transition;sn.transition=null;try{F=4,Ol(e,t,r,n)}finally{F=s,sn.transition=i}}function Ol(e,t,r,n){if(bi){var s=Co(e,t,r,n);if(s===null)La(e,t,n,ki,r),Ru(e,n);else if(om(s,e,t,r,n))n.stopPropagation();else if(Ru(e,n),t&4&&-1<am.indexOf(e)){for(;s!==null;){var i=js(s);if(i!==null&&Yd(i),i=Co(e,t,r,n),i===null&&La(e,t,n,ki,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else La(e,t,n,null,r)}}var ki=null;function Co(e,t,r,n){if(ki=null,e=Cl(n),e=pr(e),e!==null)if(t=jr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ki=e,null}function rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yp()){case Pl:return 1;case Kd:return 4;case xi:case Xp:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var Bt=null,Rl=null,li=null;function nh(){if(li)return li;var e,t=Rl,r=t.length,n,s="value"in Bt?Bt.value:Bt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return li=s.slice(e,1<n?1-n:void 0)}function ui(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Iu(){return!1}function Ve(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ds:Iu,this.isPropagationStopped=Iu,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=Ve(yn),Es=X({},yn,{view:0,detail:0}),dm=Ve(Es),ja,Ca,Tn,Yi=X({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Il,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&e.type==="mousemove"?(ja=e.screenX-Tn.screenX,Ca=e.screenY-Tn.screenY):Ca=ja=0,Tn=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),Lu=Ve(Yi),hm=X({},Yi,{dataTransfer:0}),fm=Ve(hm),pm=X({},Es,{relatedTarget:0}),Pa=Ve(pm),mm=X({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),gm=Ve(mm),vm=X({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ym=Ve(vm),wm=X({},yn,{data:0}),$u=Ve(wm),xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function km(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bm[e])?!!t[e]:!1}function Il(){return km}var Sm=X({},Es,{key:function(e){if(e.key){var t=xm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Il,charCode:function(e){return e.type==="keypress"?ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Em=Ve(Sm),jm=X({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=Ve(jm),Cm=X({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Il}),Pm=Ve(Cm),Nm=X({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tm=Ve(Nm),Om=X({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rm=Ve(Om),Am=[9,13,27,32],Ll=St&&"CompositionEvent"in window,Fn=null;St&&"documentMode"in document&&(Fn=document.documentMode);var Im=St&&"TextEvent"in window&&!Fn,sh=St&&(!Ll||Fn&&8<Fn&&11>=Fn),Uu=" ",zu=!1;function ih(e,t){switch(e){case"keyup":return Am.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function Lm(e,t){switch(e){case"compositionend":return ah(t);case"keypress":return t.which!==32?null:(zu=!0,Uu);case"textInput":return e=t.data,e===Uu&&zu?null:e;default:return null}}function $m(e,t){if(Vr)return e==="compositionend"||!Ll&&ih(e,t)?(e=nh(),li=Rl=Bt=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sh&&t.locale!=="ko"?null:t.data;default:return null}}var Dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dm[e.type]:t==="textarea"}function oh(e,t,r,n){Ud(n),t=Si(t,"onChange"),0<t.length&&(r=new Al("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wn=null,ns=null;function Um(e){yh(e,0)}function Xi(e){var t=Kr(e);if(Od(t))return e}function zm(e,t){if(e==="change")return t}var lh=!1;if(St){var Na;if(St){var Ta="oninput"in document;if(!Ta){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),Ta=typeof Bu.oninput=="function"}Na=Ta}else Na=!1;lh=Na&&(!document.documentMode||9<document.documentMode)}function Fu(){Wn&&(Wn.detachEvent("onpropertychange",uh),ns=Wn=null)}function uh(e){if(e.propertyName==="value"&&Xi(ns)){var t=[];oh(t,ns,e,Cl(e)),Fd(Um,t)}}function Mm(e,t,r){e==="focusin"?(Fu(),Wn=t,ns=r,Wn.attachEvent("onpropertychange",uh)):e==="focusout"&&Fu()}function Bm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(ns)}function Fm(e,t){if(e==="click")return Xi(t)}function Wm(e,t){if(e==="input"||e==="change")return Xi(t)}function Vm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:Vm;function ss(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!lo.call(t,s)||!at(e[s],t[s]))return!1}return!0}function Wu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vu(e,t){var r=Wu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wu(r)}}function ch(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ch(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dh(){for(var e=window,t=vi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vi(e.document)}return t}function $l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hm(e){var t=dh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ch(r.ownerDocument.documentElement,r)){if(n!==null&&$l(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Vu(r,i);var a=Vu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qm=St&&"documentMode"in document&&11>=document.documentMode,Hr=null,Po=null,Vn=null,No=!1;function Hu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;No||Hr==null||Hr!==vi(n)||(n=Hr,"selectionStart"in n&&$l(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vn&&ss(Vn,n)||(Vn=n,n=Si(Po,"onSelect"),0<n.length&&(t=new Al("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hr)))}function Us(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},Oa={},hh={};St&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Zi(e){if(Oa[e])return Oa[e];if(!qr[e])return e;var t=qr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hh)return Oa[e]=t[r];return e}var fh=Zi("animationend"),ph=Zi("animationiteration"),mh=Zi("animationstart"),gh=Zi("transitionend"),vh=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){vh.set(e,t),Er(t,[e])}for(var Ra=0;Ra<qu.length;Ra++){var Aa=qu[Ra],Km=Aa.toLowerCase(),Gm=Aa[0].toUpperCase()+Aa.slice(1);tr(Km,"on"+Gm)}tr(fh,"onAnimationEnd");tr(ph,"onAnimationIteration");tr(mh,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(gh,"onTransitionEnd");un("onMouseEnter",["mouseout","mouseover"]);un("onMouseLeave",["mouseout","mouseover"]);un("onPointerEnter",["pointerout","pointerover"]);un("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function Ku(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kp(n,t,void 0,e),e.currentTarget=null}function yh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Ku(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Ku(s,o,u),i=l}}}if(wi)throw e=So,wi=!1,So=null,e}function q(e,t){var r=t[Io];r===void 0&&(r=t[Io]=new Set);var n=e+"__bubble";r.has(n)||(wh(t,e,2,!1),r.add(n))}function Ia(e,t,r){var n=0;t&&(n|=4),wh(r,e,n,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function is(e){if(!e[zs]){e[zs]=!0,jd.forEach(function(r){r!=="selectionchange"&&(Jm.has(r)||Ia(r,!1,e),Ia(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zs]||(t[zs]=!0,Ia("selectionchange",!1,t))}}function wh(e,t,r,n){switch(rh(t)){case 1:var s=um;break;case 4:s=cm;break;default:s=Ol}r=s.bind(null,t,r,e),s=void 0,!ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function La(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=pr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Fd(function(){var u=i,d=Cl(r),f=[];e:{var h=vh.get(e);if(h!==void 0){var g=Al,v=e;switch(e){case"keypress":if(ui(r)===0)break e;case"keydown":case"keyup":g=Em;break;case"focusin":v="focus",g=Pa;break;case"focusout":v="blur",g=Pa;break;case"beforeblur":case"afterblur":g=Pa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Pm;break;case fh:case ph:case mh:g=gm;break;case gh:g=Tm;break;case"scroll":g=dm;break;case"wheel":g=Rm;break;case"copy":case"cut":case"paste":g=ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Du}var w=(t&4)!==0,x=!w&&e==="scroll",p=w?h!==null?h+"Capture":null:h;w=[];for(var m=u,y;m!==null;){y=m;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,p!==null&&(_=Zn(m,p),_!=null&&w.push(as(m,_,y)))),x)break;m=m.return}0<w.length&&(h=new g(h,v,null,r,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==_o&&(v=r.relatedTarget||r.fromElement)&&(pr(v)||v[Et]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?pr(v):null,v!==null&&(x=jr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(w=Lu,_="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Du,_="onPointerLeave",p="onPointerEnter",m="pointer"),x=g==null?h:Kr(g),y=v==null?h:Kr(v),h=new w(_,m+"leave",g,r,d),h.target=x,h.relatedTarget=y,_=null,pr(d)===u&&(w=new w(p,m+"enter",v,r,d),w.target=y,w.relatedTarget=x,_=w),x=_,g&&v)t:{for(w=g,p=v,m=0,y=w;y;y=Tr(y))m++;for(y=0,_=p;_;_=Tr(_))y++;for(;0<m-y;)w=Tr(w),m--;for(;0<y-m;)p=Tr(p),y--;for(;m--;){if(w===p||p!==null&&w===p.alternate)break t;w=Tr(w),p=Tr(p)}w=null}else w=null;g!==null&&Gu(f,h,g,w,!1),v!==null&&x!==null&&Gu(f,x,v,w,!0)}}e:{if(h=u?Kr(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=zm;else if(Mu(h))if(lh)S=Wm;else{S=Bm;var E=Mm}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Fm);if(S&&(S=S(e,u))){oh(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&go(h,"number",h.value)}switch(E=u?Kr(u):window,e){case"focusin":(Mu(E)||E.contentEditable==="true")&&(Hr=E,Po=u,Vn=null);break;case"focusout":Vn=Po=Hr=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Hu(f,r,d);break;case"selectionchange":if(qm)break;case"keydown":case"keyup":Hu(f,r,d)}var C;if(Ll)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vr?ih(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(sh&&r.locale!=="ko"&&(Vr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Vr&&(C=nh()):(Bt=d,Rl="value"in Bt?Bt.value:Bt.textContent,Vr=!0)),E=Si(u,k),0<E.length&&(k=new $u(k,e,null,r,d),f.push({event:k,listeners:E}),C?k.data=C:(C=ah(r),C!==null&&(k.data=C)))),(C=Im?Lm(e,r):$m(e,r))&&(u=Si(u,"onBeforeInput"),0<u.length&&(d=new $u("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}yh(f,t)})}function as(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Si(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zn(e,r),i!=null&&n.unshift(as(e,i,s)),i=Zn(e,t),i!=null&&n.push(as(e,i,s))),e=e.return}return n}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=Zn(r,i),l!=null&&a.unshift(as(r,l,o))):s||(l=Zn(r,i),l!=null&&a.push(as(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Qm=/\r\n?/g,Ym=/\u0000|\uFFFD/g;function Ju(e){return(typeof e=="string"?e:""+e).replace(Qm,`
`).replace(Ym,"")}function Ms(e,t,r){if(t=Ju(t),Ju(e)!==t&&r)throw Error(j(425))}function Ei(){}var To=null,Oo=null;function Ro(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=typeof setTimeout=="function"?setTimeout:void 0,Xm=typeof clearTimeout=="function"?clearTimeout:void 0,Qu=typeof Promise=="function"?Promise:void 0,Zm=typeof queueMicrotask=="function"?queueMicrotask:typeof Qu<"u"?function(e){return Qu.resolve(null).then(e).catch(e0)}:Ao;function e0(e){setTimeout(function(){throw e})}function $a(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),rs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);rs(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),ct="__reactFiber$"+wn,os="__reactProps$"+wn,Et="__reactContainer$"+wn,Io="__reactEvents$"+wn,t0="__reactListeners$"+wn,r0="__reactHandles$"+wn;function pr(e){var t=e[ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Et]||r[ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Yu(e);e!==null;){if(r=e[ct])return r;e=Yu(e)}return t}e=r,r=e.parentNode}return null}function js(e){return e=e[ct]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function ea(e){return e[os]||null}var Lo=[],Gr=-1;function rr(e){return{current:e}}function K(e){0>Gr||(e.current=Lo[Gr],Lo[Gr]=null,Gr--)}function V(e,t){Gr++,Lo[Gr]=e.current,e.current=t}var er={},we=rr(er),Te=rr(!1),xr=er;function cn(e,t){var r=e.type.contextTypes;if(!r)return er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(e){return e=e.childContextTypes,e!=null}function ji(){K(Te),K(we)}function Xu(e,t,r){if(we.current!==er)throw Error(j(168));V(we,t),V(Te,r)}function xh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(j(108,Mp(e)||"Unknown",s));return X({},r,n)}function Ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,xr=we.current,V(we,e),V(Te,Te.current),!0}function Zu(e,t,r){var n=e.stateNode;if(!n)throw Error(j(169));r?(e=xh(e,t,xr),n.__reactInternalMemoizedMergedChildContext=e,K(Te),K(we),V(we,e)):K(Te),V(Te,r)}var yt=null,ta=!1,Da=!1;function _h(e){yt===null?yt=[e]:yt.push(e)}function n0(e){ta=!0,_h(e)}function nr(){if(!Da&&yt!==null){Da=!0;var e=0,t=F;try{var r=yt;for(F=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yt=null,ta=!1}catch(s){throw yt!==null&&(yt=yt.slice(e+1)),qd(Pl,nr),s}finally{F=t,Da=!1}}return null}var Jr=[],Qr=0,Pi=null,Ni=0,He=[],qe=0,_r=null,xt=1,_t="";function ur(e,t){Jr[Qr++]=Ni,Jr[Qr++]=Pi,Pi=e,Ni=t}function bh(e,t,r){He[qe++]=xt,He[qe++]=_t,He[qe++]=_r,_r=e;var n=xt;e=_t;var s=32-st(n)-1;n&=~(1<<s),r+=1;var i=32-st(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,xt=1<<32-st(t)+s|r<<s|n,_t=i+e}else xt=1<<i|r<<s|n,_t=e}function Dl(e){e.return!==null&&(ur(e,1),bh(e,1,0))}function Ul(e){for(;e===Pi;)Pi=Jr[--Qr],Jr[Qr]=null,Ni=Jr[--Qr],Jr[Qr]=null;for(;e===_r;)_r=He[--qe],He[qe]=null,_t=He[--qe],He[qe]=null,xt=He[--qe],He[qe]=null}var Be=null,Me=null,G=!1,nt=null;function kh(e,t){var r=Ke(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ec(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,Me=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_r!==null?{id:xt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ke(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Be=e,Me=null,!0):!1;default:return!1}}function $o(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Do(e){if(G){var t=Me;if(t){var r=t;if(!ec(e,t)){if($o(e))throw Error(j(418));t=Kt(r.nextSibling);var n=Be;t&&ec(e,t)?kh(n,r):(e.flags=e.flags&-4097|2,G=!1,Be=e)}}else{if($o(e))throw Error(j(418));e.flags=e.flags&-4097|2,G=!1,Be=e}}}function tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Bs(e){if(e!==Be)return!1;if(!G)return tc(e),G=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ro(e.type,e.memoizedProps)),t&&(t=Me)){if($o(e))throw Sh(),Error(j(418));for(;t;)kh(e,t),t=Kt(t.nextSibling)}if(tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Me=Kt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=Be?Kt(e.stateNode.nextSibling):null;return!0}function Sh(){for(var e=Me;e;)e=Kt(e.nextSibling)}function dn(){Me=Be=null,G=!1}function zl(e){nt===null?nt=[e]:nt.push(e)}var s0=Pt.ReactCurrentBatchConfig;function On(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rc(e){var t=e._init;return t(e._payload)}function Eh(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Yt(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,m,y,_){return m===null||m.tag!==6?(m=Va(y,p.mode,_),m.return=p,m):(m=s(m,y),m.return=p,m)}function l(p,m,y,_){var S=y.type;return S===Wr?d(p,m,y.props.children,_,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===It&&rc(S)===m.type)?(_=s(m,y.props),_.ref=On(p,m,y),_.return=p,_):(_=gi(y.type,y.key,y.props,null,p.mode,_),_.ref=On(p,m,y),_.return=p,_)}function u(p,m,y,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Ha(y,p.mode,_),m.return=p,m):(m=s(m,y.children||[]),m.return=p,m)}function d(p,m,y,_,S){return m===null||m.tag!==7?(m=wr(y,p.mode,_,S),m.return=p,m):(m=s(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Va(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Os:return y=gi(m.type,m.key,m.props,null,p.mode,y),y.ref=On(p,null,m),y.return=p,y;case Fr:return m=Ha(m,p.mode,y),m.return=p,m;case It:var _=m._init;return f(p,_(m._payload),y)}if($n(m)||jn(m))return m=wr(m,p.mode,y,null),m.return=p,m;Fs(p,m)}return null}function h(p,m,y,_){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:o(p,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Os:return y.key===S?l(p,m,y,_):null;case Fr:return y.key===S?u(p,m,y,_):null;case It:return S=y._init,h(p,m,S(y._payload),_)}if($n(y)||jn(y))return S!==null?null:d(p,m,y,_,null);Fs(p,y)}return null}function g(p,m,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(y)||null,o(m,p,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Os:return p=p.get(_.key===null?y:_.key)||null,l(m,p,_,S);case Fr:return p=p.get(_.key===null?y:_.key)||null,u(m,p,_,S);case It:var E=_._init;return g(p,m,y,E(_._payload),S)}if($n(_)||jn(_))return p=p.get(y)||null,d(m,p,_,S,null);Fs(m,_)}return null}function v(p,m,y,_){for(var S=null,E=null,C=m,k=m=0,P=null;C!==null&&k<y.length;k++){C.index>k?(P=C,C=null):P=C.sibling;var T=h(p,C,y[k],_);if(T===null){C===null&&(C=P);break}e&&C&&T.alternate===null&&t(p,C),m=i(T,m,k),E===null?S=T:E.sibling=T,E=T,C=P}if(k===y.length)return r(p,C),G&&ur(p,k),S;if(C===null){for(;k<y.length;k++)C=f(p,y[k],_),C!==null&&(m=i(C,m,k),E===null?S=C:E.sibling=C,E=C);return G&&ur(p,k),S}for(C=n(p,C);k<y.length;k++)P=g(C,p,k,y[k],_),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),m=i(P,m,k),E===null?S=P:E.sibling=P,E=P);return e&&C.forEach(function(xe){return t(p,xe)}),G&&ur(p,k),S}function w(p,m,y,_){var S=jn(y);if(typeof S!="function")throw Error(j(150));if(y=S.call(y),y==null)throw Error(j(151));for(var E=S=null,C=m,k=m=0,P=null,T=y.next();C!==null&&!T.done;k++,T=y.next()){C.index>k?(P=C,C=null):P=C.sibling;var xe=h(p,C,T.value,_);if(xe===null){C===null&&(C=P);break}e&&C&&xe.alternate===null&&t(p,C),m=i(xe,m,k),E===null?S=xe:E.sibling=xe,E=xe,C=P}if(T.done)return r(p,C),G&&ur(p,k),S;if(C===null){for(;!T.done;k++,T=y.next())T=f(p,T.value,_),T!==null&&(m=i(T,m,k),E===null?S=T:E.sibling=T,E=T);return G&&ur(p,k),S}for(C=n(p,C);!T.done;k++,T=y.next())T=g(C,p,k,T.value,_),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?k:T.key),m=i(T,m,k),E===null?S=T:E.sibling=T,E=T);return e&&C.forEach(function(ft){return t(p,ft)}),G&&ur(p,k),S}function x(p,m,y,_){if(typeof y=="object"&&y!==null&&y.type===Wr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Os:e:{for(var S=y.key,E=m;E!==null;){if(E.key===S){if(S=y.type,S===Wr){if(E.tag===7){r(p,E.sibling),m=s(E,y.props.children),m.return=p,p=m;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===It&&rc(S)===E.type){r(p,E.sibling),m=s(E,y.props),m.ref=On(p,E,y),m.return=p,p=m;break e}r(p,E);break}else t(p,E);E=E.sibling}y.type===Wr?(m=wr(y.props.children,p.mode,_,y.key),m.return=p,p=m):(_=gi(y.type,y.key,y.props,null,p.mode,_),_.ref=On(p,m,y),_.return=p,p=_)}return a(p);case Fr:e:{for(E=y.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(p,m.sibling),m=s(m,y.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=Ha(y,p.mode,_),m.return=p,p=m}return a(p);case It:return E=y._init,x(p,m,E(y._payload),_)}if($n(y))return v(p,m,y,_);if(jn(y))return w(p,m,y,_);Fs(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,y),m.return=p,p=m):(r(p,m),m=Va(y,p.mode,_),m.return=p,p=m),a(p)):r(p,m)}return x}var hn=Eh(!0),jh=Eh(!1),Ti=rr(null),Oi=null,Yr=null,Ml=null;function Bl(){Ml=Yr=Oi=null}function Fl(e){var t=Ti.current;K(Ti),e._currentValue=t}function Uo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function an(e,t){Oi=e,Ml=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(Ml!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(Oi===null)throw Error(j(308));Yr=e,Oi.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var mr=null;function Wl(e){mr===null?mr=[e]:mr.push(e)}function Ch(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Wl(t)):(r.next=s.next,s.next=r),t.interleaved=r,jt(e,n)}function jt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lt=!1;function Vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ph(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,jt(e,r)}return s=n.interleaved,s===null?(t.next=t,Wl(n)):(t.next=s.next,s.next=t),n.interleaved=t,jt(e,r)}function ci(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nl(e,r)}}function nc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ri(e,t,r,n){var s=e.updateQueue;Lt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,d=u=l=null,o=i;do{var h=o.lane,g=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,w=o;switch(h=t,g=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=X({},f,h);break e;case 2:Lt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else g={eventTime:g,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);kr|=a,e.lanes=a,e.memoizedState=f}}function sc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var Cs={},ht=rr(Cs),ls=rr(Cs),us=rr(Cs);function gr(e){if(e===Cs)throw Error(j(174));return e}function Hl(e,t){switch(V(us,t),V(ls,e),V(ht,Cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yo(t,e)}K(ht),V(ht,t)}function fn(){K(ht),K(ls),K(us)}function Nh(e){gr(us.current);var t=gr(ht.current),r=yo(t,e.type);t!==r&&(V(ls,e),V(ht,r))}function ql(e){ls.current===e&&(K(ht),K(ls))}var J=rr(0);function Ai(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=[];function Kl(){for(var e=0;e<Ua.length;e++)Ua[e]._workInProgressVersionPrimary=null;Ua.length=0}var di=Pt.ReactCurrentDispatcher,za=Pt.ReactCurrentBatchConfig,br=0,Q=null,ie=null,le=null,Ii=!1,Hn=!1,cs=0,i0=0;function ge(){throw Error(j(321))}function Gl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!at(e[r],t[r]))return!1;return!0}function Jl(e,t,r,n,s,i){if(br=i,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,di.current=e===null||e.memoizedState===null?u0:c0,e=r(n,s),Hn){i=0;do{if(Hn=!1,cs=0,25<=i)throw Error(j(301));i+=1,le=ie=null,t.updateQueue=null,di.current=d0,e=r(n,s)}while(Hn)}if(di.current=Li,t=ie!==null&&ie.next!==null,br=0,le=ie=Q=null,Ii=!1,t)throw Error(j(300));return e}function Ql(){var e=cs!==0;return cs=0,e}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?Q.memoizedState=le=e:le=le.next=e,le}function Qe(){if(ie===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=le===null?Q.memoizedState:le.next;if(t!==null)le=t,ie=e;else{if(e===null)throw Error(j(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},le===null?Q.memoizedState=le=e:le=le.next=e}return le}function ds(e,t){return typeof t=="function"?t(e):t}function Ma(e){var t=Qe(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var n=ie,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((br&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,Q.lanes|=d,kr|=d}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,at(n,t.memoizedState)||(Ne=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Q.lanes|=i,kr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ba(e){var t=Qe(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);at(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Th(){}function Oh(e,t){var r=Q,n=Qe(),s=t(),i=!at(n.memoizedState,s);if(i&&(n.memoizedState=s,Ne=!0),n=n.queue,Yl(Ih.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,hs(9,Ah.bind(null,r,n,s,t),void 0,null),ue===null)throw Error(j(349));br&30||Rh(r,t,s)}return s}function Rh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ah(e,t,r,n){t.value=r,t.getSnapshot=n,Lh(t)&&$h(e)}function Ih(e,t,r){return r(function(){Lh(t)&&$h(e)})}function Lh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!at(e,r)}catch{return!0}}function $h(e){var t=jt(e,1);t!==null&&it(t,e,1,-1)}function ic(e){var t=ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=l0.bind(null,Q,e),[t.memoizedState,e]}function hs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Dh(){return Qe().memoizedState}function hi(e,t,r,n){var s=ut();Q.flags|=e,s.memoizedState=hs(1|t,r,void 0,n===void 0?null:n)}function ra(e,t,r,n){var s=Qe();n=n===void 0?null:n;var i=void 0;if(ie!==null){var a=ie.memoizedState;if(i=a.destroy,n!==null&&Gl(n,a.deps)){s.memoizedState=hs(t,r,i,n);return}}Q.flags|=e,s.memoizedState=hs(1|t,r,i,n)}function ac(e,t){return hi(8390656,8,e,t)}function Yl(e,t){return ra(2048,8,e,t)}function Uh(e,t){return ra(4,2,e,t)}function zh(e,t){return ra(4,4,e,t)}function Mh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bh(e,t,r){return r=r!=null?r.concat([e]):null,ra(4,4,Mh.bind(null,t,e),r)}function Xl(){}function Fh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vh(e,t,r){return br&21?(at(r,t)||(r=Jd(),Q.lanes|=r,kr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=r)}function a0(e,t){var r=F;F=r!==0&&4>r?r:4,e(!0);var n=za.transition;za.transition={};try{e(!1),t()}finally{F=r,za.transition=n}}function Hh(){return Qe().memoizedState}function o0(e,t,r){var n=Qt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qh(e))Kh(t,r);else if(r=Ch(e,t,r,n),r!==null){var s=ke();it(r,e,n,s),Gh(r,t,n)}}function l0(e,t,r){var n=Qt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qh(e))Kh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,at(o,a)){var l=t.interleaved;l===null?(s.next=s,Wl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Ch(e,t,s,n),r!==null&&(s=ke(),it(r,e,n,s),Gh(r,t,n))}}function qh(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function Kh(e,t){Hn=Ii=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nl(e,r)}}var Li={readContext:Je,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},u0={readContext:Je,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:ac,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hi(4194308,4,Mh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var r=ut();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ut();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=o0.bind(null,Q,e),[n.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:ic,useDebugValue:Xl,useDeferredValue:function(e){return ut().memoizedState=e},useTransition:function(){var e=ic(!1),t=e[0];return e=a0.bind(null,e[1]),ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Q,s=ut();if(G){if(r===void 0)throw Error(j(407));r=r()}else{if(r=t(),ue===null)throw Error(j(349));br&30||Rh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ac(Ih.bind(null,n,i,e),[e]),n.flags|=2048,hs(9,Ah.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ut(),t=ue.identifierPrefix;if(G){var r=_t,n=xt;r=(n&~(1<<32-st(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=i0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},c0={readContext:Je,useCallback:Fh,useContext:Je,useEffect:Yl,useImperativeHandle:Bh,useInsertionEffect:Uh,useLayoutEffect:zh,useMemo:Wh,useReducer:Ma,useRef:Dh,useState:function(){return Ma(ds)},useDebugValue:Xl,useDeferredValue:function(e){var t=Qe();return Vh(t,ie.memoizedState,e)},useTransition:function(){var e=Ma(ds)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Th,useSyncExternalStore:Oh,useId:Hh,unstable_isNewReconciler:!1},d0={readContext:Je,useCallback:Fh,useContext:Je,useEffect:Yl,useImperativeHandle:Bh,useInsertionEffect:Uh,useLayoutEffect:zh,useMemo:Wh,useReducer:Ba,useRef:Dh,useState:function(){return Ba(ds)},useDebugValue:Xl,useDeferredValue:function(e){var t=Qe();return ie===null?t.memoizedState=e:Vh(t,ie.memoizedState,e)},useTransition:function(){var e=Ba(ds)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Th,useSyncExternalStore:Oh,useId:Hh,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:X({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var na={isMounted:function(e){return(e=e._reactInternals)?jr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ke(),s=Qt(e),i=kt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,s),t!==null&&(it(t,e,s,n),ci(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ke(),s=Qt(e),i=kt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gt(e,i,s),t!==null&&(it(t,e,s,n),ci(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ke(),n=Qt(e),s=kt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Gt(e,s,n),t!==null&&(it(t,e,n,r),ci(t,e,n))}};function oc(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ss(r,n)||!ss(s,i):!0}function Jh(e,t,r){var n=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Oe(t)?xr:we.current,n=t.contextTypes,i=(n=n!=null)?cn(e,s):er),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=na,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&na.enqueueReplaceState(t,t.state,null)}function Mo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Vl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Oe(t)?xr:we.current,s.context=cn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&na.enqueueReplaceState(s,s.state,null),Ri(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pn(e,t){try{var r="",n=t;do r+=zp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Fa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var h0=typeof WeakMap=="function"?WeakMap:Map;function Qh(e,t,r){r=kt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Di||(Di=!0,Yo=n),Bo(e,t)},r}function Yh(e,t,r){r=kt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Bo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Bo(e,t),typeof n!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function uc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new h0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=j0.bind(null,e,t,r),t.then(e,e))}function cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kt(-1,1),t.tag=2,Gt(r,t,1))),r.lanes|=1),e)}var f0=Pt.ReactCurrentOwner,Ne=!1;function be(e,t,r,n){t.child=e===null?jh(t,null,r,n):hn(t,e.child,r,n)}function hc(e,t,r,n,s){r=r.render;var i=t.ref;return an(t,s),n=Jl(e,t,r,n,i,s),r=Ql(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(G&&r&&Dl(t),t.flags|=1,be(e,t,n,s),t.child)}function fc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!au(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Xh(e,t,i,n,s)):(e=gi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ss,r(a,n)&&e.ref===t.ref)return Ct(e,t,s)}return t.flags|=1,e=Yt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Xh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ss(i,n)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,Ct(e,t,s)}return Fo(e,t,r,n,s)}function Zh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Zr,De),De|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(Zr,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,V(Zr,De),De|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,V(Zr,De),De|=n;return be(e,t,s,r),t.child}function ef(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Fo(e,t,r,n,s){var i=Oe(r)?xr:we.current;return i=cn(t,i),an(t,s),r=Jl(e,t,r,n,i,s),n=Ql(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ct(e,t,s)):(G&&n&&Dl(t),t.flags|=1,be(e,t,r,s),t.child)}function pc(e,t,r,n,s){if(Oe(r)){var i=!0;Ci(t)}else i=!1;if(an(t,s),t.stateNode===null)fi(e,t),Jh(t,r,n),Mo(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Oe(r)?xr:we.current,u=cn(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&lc(t,a,n,u),Lt=!1;var h=t.memoizedState;a.state=h,Ri(t,n,a,s),l=t.memoizedState,o!==n||h!==l||Te.current||Lt?(typeof d=="function"&&(zo(t,r,d,n),l=t.memoizedState),(o=Lt||oc(t,r,o,n,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Ph(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ze(t.type,o),a.props=u,f=t.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Oe(r)?xr:we.current,l=cn(t,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&lc(t,a,n,l),Lt=!1,h=t.memoizedState,a.state=h,Ri(t,n,a,s);var v=t.memoizedState;o!==f||h!==v||Te.current||Lt?(typeof g=="function"&&(zo(t,r,g,n),v=t.memoizedState),(u=Lt||oc(t,r,u,n,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Wo(e,t,r,n,i,s)}function Wo(e,t,r,n,s,i){ef(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Zu(t,r,!1),Ct(e,t,i);n=t.stateNode,f0.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=hn(t,e.child,null,i),t.child=hn(t,null,o,i)):be(e,t,o,i),t.memoizedState=n.state,s&&Zu(t,r,!0),t.child}function tf(e){var t=e.stateNode;t.pendingContext?Xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xu(e,t.context,!1),Hl(e,t.containerInfo)}function mc(e,t,r,n,s){return dn(),zl(s),t.flags|=256,be(e,t,r,n),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function rf(e,t,r){var n=t.pendingProps,s=J.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(J,s&1),e===null)return Do(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=aa(a,n,0,null),e=wr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ho(r),t.memoizedState=Vo,e):Zl(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return p0(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Yt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Yt(o,i):(i=wr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Ho(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Vo,n}return i=e.child,e=i.sibling,n=Yt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Zl(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,r,n){return n!==null&&zl(n),hn(t,e.child,null,r),e=Zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function p0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Fa(Error(j(422))),Ws(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=aa({mode:"visible",children:n.children},s,0,null),i=wr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hn(t,e.child,null,a),t.child.memoizedState=Ho(a),t.memoizedState=Vo,i);if(!(t.mode&1))return Ws(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(j(419)),n=Fa(i,n,void 0),Ws(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ne||o){if(n=ue,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(e,s),it(n,e,s,-1))}return iu(),n=Fa(Error(j(421))),Ws(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=C0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Me=Kt(s.nextSibling),Be=t,G=!0,nt=null,e!==null&&(He[qe++]=xt,He[qe++]=_t,He[qe++]=_r,xt=e.id,_t=e.overflow,_r=t),t=Zl(t,n.children),t.flags|=4096,t)}function gc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Uo(e.return,t,r)}function Wa(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function nf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(be(e,t,n.children,r),n=J.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gc(e,r,t);else if(e.tag===19)gc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(V(J,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ai(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Wa(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ai(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Wa(t,!0,r,null,i);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,r=Yt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function m0(e,t,r){switch(t.tag){case 3:tf(t),dn();break;case 5:Nh(t);break;case 1:Oe(t.type)&&Ci(t);break;case 4:Hl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;V(Ti,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(V(J,J.current&1),t.flags|=128,null):r&t.child.childLanes?rf(e,t,r):(V(J,J.current&1),e=Ct(e,t,r),e!==null?e.sibling:null);V(J,J.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(J,J.current),n)break;return null;case 22:case 23:return t.lanes=0,Zh(e,t,r)}return Ct(e,t,r)}var sf,qo,af,of;sf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qo=function(){};af=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,gr(ht.current);var i=null;switch(r){case"input":s=po(e,s),n=po(e,n),i=[];break;case"select":s=X({},s,{value:void 0}),n=X({},n,{value:void 0}),i=[];break;case"textarea":s=vo(e,s),n=vo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ei)}wo(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&q("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};of=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rn(e,t){if(!G)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function g0(e,t,r){var n=t.pendingProps;switch(Ul(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return Oe(t.type)&&ji(),ve(t),null;case 3:return n=t.stateNode,fn(),K(Te),K(we),Kl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(el(nt),nt=null))),qo(e,t),ve(t),null;case 5:ql(t);var s=gr(us.current);if(r=t.type,e!==null&&t.stateNode!=null)af(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(j(166));return ve(t),null}if(e=gr(ht.current),Bs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ct]=t,n[os]=i,e=(t.mode&1)!==0,r){case"dialog":q("cancel",n),q("close",n);break;case"iframe":case"object":case"embed":q("load",n);break;case"video":case"audio":for(s=0;s<Un.length;s++)q(Un[s],n);break;case"source":q("error",n);break;case"img":case"image":case"link":q("error",n),q("load",n);break;case"details":q("toggle",n);break;case"input":Eu(n,i),q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},q("invalid",n);break;case"textarea":Cu(n,i),q("invalid",n)}wo(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ms(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ms(n.textContent,o,e),s=["children",""+o]):Yn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&q("scroll",n)}switch(r){case"input":Rs(n),ju(n,i,!0);break;case"textarea":Rs(n),Pu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ei)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Id(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ct]=t,e[os]=n,sf(e,t,!1,!1),t.stateNode=e;e:{switch(a=xo(r,n),r){case"dialog":q("cancel",e),q("close",e),s=n;break;case"iframe":case"object":case"embed":q("load",e),s=n;break;case"video":case"audio":for(s=0;s<Un.length;s++)q(Un[s],e);s=n;break;case"source":q("error",e),s=n;break;case"img":case"image":case"link":q("error",e),q("load",e),s=n;break;case"details":q("toggle",e),s=n;break;case"input":Eu(e,n),s=po(e,n),q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=X({},n,{value:void 0}),q("invalid",e);break;case"textarea":Cu(e,n),s=vo(e,n),q("invalid",e);break;default:s=n}wo(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Dd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ld(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Xn(e,l):typeof l=="number"&&Xn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",e):l!=null&&kl(e,i,l,a))}switch(r){case"input":Rs(e),ju(e,n,!1);break;case"textarea":Rs(e),Pu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?tn(e,!!n.multiple,i,!1):n.defaultValue!=null&&tn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ei)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)of(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(j(166));if(r=gr(us.current),gr(ht.current),Bs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ct]=t,(i=n.nodeValue!==r)&&(e=Be,e!==null))switch(e.tag){case 3:Ms(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ct]=t,t.stateNode=n}return ve(t),null;case 13:if(K(J),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(G&&Me!==null&&t.mode&1&&!(t.flags&128))Sh(),dn(),t.flags|=98560,i=!1;else if(i=Bs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[ct]=t}else dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),i=!1}else nt!==null&&(el(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||J.current&1?ae===0&&(ae=3):iu())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return fn(),qo(e,t),e===null&&is(t.stateNode.containerInfo),ve(t),null;case 10:return Fl(t.type._context),ve(t),null;case 17:return Oe(t.type)&&ji(),ve(t),null;case 19:if(K(J),i=t.memoizedState,i===null)return ve(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Rn(i,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ai(e),a!==null){for(t.flags|=128,Rn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return V(J,J.current&1|2),t.child}e=e.sibling}i.tail!==null&&te()>mn&&(t.flags|=128,n=!0,Rn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ai(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!G)return ve(t),null}else 2*te()-i.renderingStartTime>mn&&r!==1073741824&&(t.flags|=128,n=!0,Rn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,r=J.current,V(J,n?r&1|2:r&1),t):(ve(t),null);case 22:case 23:return su(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?De&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function v0(e,t){switch(Ul(t),t.tag){case 1:return Oe(t.type)&&ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(),K(Te),K(we),Kl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ql(t),null;case 13:if(K(J),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(J),null;case 4:return fn(),null;case 10:return Fl(t.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var Vs=!1,ye=!1,y0=typeof WeakSet=="function"?WeakSet:Set,R=null;function Xr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ee(e,t,n)}else r.current=null}function Ko(e,t,r){try{r()}catch(n){ee(e,t,n)}}var vc=!1;function w0(e,t){if(To=bi,e=dh(),$l(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(o=a),h===i&&++d===n&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oo={focusedElem:e,selectionRange:r},bi=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ze(t.type,w),x);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(_){ee(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=vc,vc=!1,v}function qn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ko(t,r,i)}s=s.next}while(s!==n)}}function sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Go(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[os],delete t[Io],delete t[t0],delete t[r0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uf(e){return e.tag===5||e.tag===3||e.tag===4}function yc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ei));else if(n!==4&&(e=e.child,e!==null))for(Jo(e,t,r),e=e.sibling;e!==null;)Jo(e,t,r),e=e.sibling}function Qo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Qo(e,t,r),e=e.sibling;e!==null;)Qo(e,t,r),e=e.sibling}var he=null,tt=!1;function Rt(e,t,r){for(r=r.child;r!==null;)cf(e,t,r),r=r.sibling}function cf(e,t,r){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Qi,r)}catch{}switch(r.tag){case 5:ye||Xr(r,t);case 6:var n=he,s=tt;he=null,Rt(e,t,r),he=n,tt=s,he!==null&&(tt?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(tt?(e=he,r=r.stateNode,e.nodeType===8?$a(e.parentNode,r):e.nodeType===1&&$a(e,r),rs(e)):$a(he,r.stateNode));break;case 4:n=he,s=tt,he=r.stateNode.containerInfo,tt=!0,Rt(e,t,r),he=n,tt=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ko(r,t,a),s=s.next}while(s!==n)}Rt(e,t,r);break;case 1:if(!ye&&(Xr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ee(r,t,o)}Rt(e,t,r);break;case 21:Rt(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Rt(e,t,r),ye=n):Rt(e,t,r);break;default:Rt(e,t,r)}}function wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new y0),t.forEach(function(n){var s=P0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ye(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:he=o.stateNode,tt=!1;break e;case 3:he=o.stateNode.containerInfo,tt=!0;break e;case 4:he=o.stateNode.containerInfo,tt=!0;break e}o=o.return}if(he===null)throw Error(j(160));cf(i,a,s),he=null,tt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ee(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)df(t,e),t=t.sibling}function df(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),lt(e),n&4){try{qn(3,e,e.return),sa(3,e)}catch(w){ee(e,e.return,w)}try{qn(5,e,e.return)}catch(w){ee(e,e.return,w)}}break;case 1:Ye(t,e),lt(e),n&512&&r!==null&&Xr(r,r.return);break;case 5:if(Ye(t,e),lt(e),n&512&&r!==null&&Xr(r,r.return),e.flags&32){var s=e.stateNode;try{Xn(s,"")}catch(w){ee(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Rd(s,i),xo(o,a);var u=xo(o,i);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Dd(s,f):d==="dangerouslySetInnerHTML"?Ld(s,f):d==="children"?Xn(s,f):kl(s,d,f,u)}switch(o){case"input":mo(s,i);break;case"textarea":Ad(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?tn(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?tn(s,!!i.multiple,i.defaultValue,!0):tn(s,!!i.multiple,i.multiple?[]:"",!1))}s[os]=i}catch(w){ee(e,e.return,w)}}break;case 6:if(Ye(t,e),lt(e),n&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ee(e,e.return,w)}}break;case 3:if(Ye(t,e),lt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(w){ee(e,e.return,w)}break;case 4:Ye(t,e),lt(e);break;case 13:Ye(t,e),lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ru=te())),n&4&&wc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(u=ye)||d,Ye(t,e),ye=u):Ye(t,e),lt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(f=R=d;R!==null;){switch(h=R,g=h.child,h.tag){case 0:case 11:case 14:case 15:qn(4,h,h.return);break;case 1:Xr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ee(n,r,w)}}break;case 5:Xr(h,h.return);break;case 22:if(h.memoizedState!==null){_c(f);continue}}g!==null?(g.return=h,R=g):_c(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=$d("display",a))}catch(w){ee(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ee(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ye(t,e),lt(e),n&4&&wc(e);break;case 21:break;default:Ye(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uf(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xn(s,""),n.flags&=-33);var i=yc(e);Qo(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=yc(e);Jo(e,o,a);break;default:throw Error(j(161))}}catch(l){ee(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x0(e,t,r){R=e,hf(e)}function hf(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Vs;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||ye;o=Vs;var u=ye;if(Vs=a,(ye=l)&&!u)for(R=s;R!==null;)a=R,l=a.child,a.tag===22&&a.memoizedState!==null?bc(s):l!==null?(l.return=a,R=l):bc(s);for(;i!==null;)R=i,hf(i),i=i.sibling;R=s,Vs=o,ye=u}xc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):xc(e)}}function xc(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||sa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ze(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sc(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sc(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&rs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ye||t.flags&512&&Go(t)}catch(h){ee(t,t.return,h)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function _c(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function bc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sa(4,t)}catch(l){ee(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ee(t,s,l)}}var i=t.return;try{Go(t)}catch(l){ee(t,i,l)}break;case 5:var a=t.return;try{Go(t)}catch(l){ee(t,a,l)}}}catch(l){ee(t,t.return,l)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var _0=Math.ceil,$i=Pt.ReactCurrentDispatcher,eu=Pt.ReactCurrentOwner,Ge=Pt.ReactCurrentBatchConfig,B=0,ue=null,ne=null,fe=0,De=0,Zr=rr(0),ae=0,fs=null,kr=0,ia=0,tu=0,Kn=null,Pe=null,ru=0,mn=1/0,gt=null,Di=!1,Yo=null,Jt=null,Hs=!1,Ft=null,Ui=0,Gn=0,Xo=null,pi=-1,mi=0;function ke(){return B&6?te():pi!==-1?pi:pi=te()}function Qt(e){return e.mode&1?B&2&&fe!==0?fe&-fe:s0.transition!==null?(mi===0&&(mi=Jd()),mi):(e=F,e!==0||(e=window.event,e=e===void 0?16:rh(e.type)),e):1}function it(e,t,r,n){if(50<Gn)throw Gn=0,Xo=null,Error(j(185));Ss(e,r,n),(!(B&2)||e!==ue)&&(e===ue&&(!(B&2)&&(ia|=r),ae===4&&Ut(e,fe)),Re(e,n),r===1&&B===0&&!(t.mode&1)&&(mn=te()+500,ta&&nr()))}function Re(e,t){var r=e.callbackNode;sm(e,t);var n=_i(e,e===ue?fe:0);if(n===0)r!==null&&Ou(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ou(r),t===1)e.tag===0?n0(kc.bind(null,e)):_h(kc.bind(null,e)),Zm(function(){!(B&6)&&nr()}),r=null;else{switch(Qd(n)){case 1:r=Pl;break;case 4:r=Kd;break;case 16:r=xi;break;case 536870912:r=Gd;break;default:r=xi}r=xf(r,ff.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ff(e,t){if(pi=-1,mi=0,B&6)throw Error(j(327));var r=e.callbackNode;if(on()&&e.callbackNode!==r)return null;var n=_i(e,e===ue?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zi(e,n);else{t=n;var s=B;B|=2;var i=mf();(ue!==e||fe!==t)&&(gt=null,mn=te()+500,yr(e,t));do try{S0();break}catch(o){pf(e,o)}while(!0);Bl(),$i.current=i,B=s,ne!==null?t=0:(ue=null,fe=0,t=ae)}if(t!==0){if(t===2&&(s=Eo(e),s!==0&&(n=s,t=Zo(e,s))),t===1)throw r=fs,yr(e,0),Ut(e,n),Re(e,te()),r;if(t===6)Ut(e,n);else{if(s=e.current.alternate,!(n&30)&&!b0(s)&&(t=zi(e,n),t===2&&(i=Eo(e),i!==0&&(n=i,t=Zo(e,i))),t===1))throw r=fs,yr(e,0),Ut(e,n),Re(e,te()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(j(345));case 2:cr(e,Pe,gt);break;case 3:if(Ut(e,n),(n&130023424)===n&&(t=ru+500-te(),10<t)){if(_i(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ao(cr.bind(null,e,Pe,gt),t);break}cr(e,Pe,gt);break;case 4:if(Ut(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-st(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_0(n/1960))-n,10<n){e.timeoutHandle=Ao(cr.bind(null,e,Pe,gt),n);break}cr(e,Pe,gt);break;case 5:cr(e,Pe,gt);break;default:throw Error(j(329))}}}return Re(e,te()),e.callbackNode===r?ff.bind(null,e):null}function Zo(e,t){var r=Kn;return e.current.memoizedState.isDehydrated&&(yr(e,t).flags|=256),e=zi(e,t),e!==2&&(t=Pe,Pe=r,t!==null&&el(t)),e}function el(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function b0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~tu,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function kc(e){if(B&6)throw Error(j(327));on();var t=_i(e,0);if(!(t&1))return Re(e,te()),null;var r=zi(e,t);if(e.tag!==0&&r===2){var n=Eo(e);n!==0&&(t=n,r=Zo(e,n))}if(r===1)throw r=fs,yr(e,0),Ut(e,t),Re(e,te()),r;if(r===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,Pe,gt),Re(e,te()),null}function nu(e,t){var r=B;B|=1;try{return e(t)}finally{B=r,B===0&&(mn=te()+500,ta&&nr())}}function Sr(e){Ft!==null&&Ft.tag===0&&!(B&6)&&on();var t=B;B|=1;var r=Ge.transition,n=F;try{if(Ge.transition=null,F=1,e)return e()}finally{F=n,Ge.transition=r,B=t,!(B&6)&&nr()}}function su(){De=Zr.current,K(Zr)}function yr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Xm(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(Ul(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ji();break;case 3:fn(),K(Te),K(we),Kl();break;case 5:ql(n);break;case 4:fn();break;case 13:K(J);break;case 19:K(J);break;case 10:Fl(n.type._context);break;case 22:case 23:su()}r=r.return}if(ue=e,ne=e=Yt(e.current,null),fe=De=t,ae=0,fs=null,tu=ia=kr=0,Pe=Kn=null,mr!==null){for(t=0;t<mr.length;t++)if(r=mr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}mr=null}return e}function pf(e,t){do{var r=ne;try{if(Bl(),di.current=Li,Ii){for(var n=Q.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ii=!1}if(br=0,le=ie=Q=null,Hn=!1,cs=0,eu.current=null,r===null||r.return===null){ae=1,fs=t,ne=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=fe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=cc(a);if(g!==null){g.flags&=-257,dc(g,a,o,i,t),g.mode&1&&uc(i,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){uc(i,u,t),iu();break e}l=Error(j(426))}}else if(G&&o.mode&1){var x=cc(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dc(x,a,o,i,t),zl(pn(l,o));break e}}i=l=pn(l,o),ae!==4&&(ae=2),Kn===null?Kn=[i]:Kn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Qh(i,l,t);nc(i,p);break e;case 1:o=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Jt===null||!Jt.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Yh(i,o,t);nc(i,_);break e}}i=i.return}while(i!==null)}vf(r)}catch(S){t=S,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function mf(){var e=$i.current;return $i.current=Li,e===null?Li:e}function iu(){(ae===0||ae===3||ae===2)&&(ae=4),ue===null||!(kr&268435455)&&!(ia&268435455)||Ut(ue,fe)}function zi(e,t){var r=B;B|=2;var n=mf();(ue!==e||fe!==t)&&(gt=null,yr(e,t));do try{k0();break}catch(s){pf(e,s)}while(!0);if(Bl(),B=r,$i.current=n,ne!==null)throw Error(j(261));return ue=null,fe=0,ae}function k0(){for(;ne!==null;)gf(ne)}function S0(){for(;ne!==null&&!Jp();)gf(ne)}function gf(e){var t=wf(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?vf(e):ne=t,eu.current=null}function vf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=v0(r,t),r!==null){r.flags&=32767,ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,ne=null;return}}else if(r=g0(r,t,De),r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ae===0&&(ae=5)}function cr(e,t,r){var n=F,s=Ge.transition;try{Ge.transition=null,F=1,E0(e,t,r,n)}finally{Ge.transition=s,F=n}return null}function E0(e,t,r,n){do on();while(Ft!==null);if(B&6)throw Error(j(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(im(e,i),e===ue&&(ne=ue=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hs||(Hs=!0,xf(xi,function(){return on(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var a=F;F=1;var o=B;B|=4,eu.current=null,w0(e,r),df(r,e),Hm(Oo),bi=!!To,Oo=To=null,e.current=r,x0(r),Qp(),B=o,F=a,Ge.transition=i}else e.current=r;if(Hs&&(Hs=!1,Ft=e,Ui=s),i=e.pendingLanes,i===0&&(Jt=null),Zp(r.stateNode),Re(e,te()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Di)throw Di=!1,e=Yo,Yo=null,e;return Ui&1&&e.tag!==0&&on(),i=e.pendingLanes,i&1?e===Xo?Gn++:(Gn=0,Xo=e):Gn=0,nr(),null}function on(){if(Ft!==null){var e=Qd(Ui),t=Ge.transition,r=F;try{if(Ge.transition=null,F=16>e?16:e,Ft===null)var n=!1;else{if(e=Ft,Ft=null,Ui=0,B&6)throw Error(j(331));var s=B;for(B|=4,R=e.current;R!==null;){var i=R,a=i.child;if(R.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:qn(8,d,i)}var f=d.child;if(f!==null)f.return=d,R=f;else for(;R!==null;){d=R;var h=d.sibling,g=d.return;if(lf(d),d===u){R=null;break}if(h!==null){h.return=g,R=h;break}R=g}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,R=a;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,R=p;break e}R=i.return}}var m=e.current;for(R=m;R!==null;){a=R;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,R=y;else e:for(a=m;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:sa(9,o)}}catch(S){ee(o,o.return,S)}if(o===a){R=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,R=_;break e}R=o.return}}if(B=s,nr(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Qi,e)}catch{}n=!0}return n}finally{F=r,Ge.transition=t}}return!1}function Sc(e,t,r){t=pn(r,t),t=Qh(e,t,1),e=Gt(e,t,1),t=ke(),e!==null&&(Ss(e,1,t),Re(e,t))}function ee(e,t,r){if(e.tag===3)Sc(e,e,r);else for(;t!==null;){if(t.tag===3){Sc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jt===null||!Jt.has(n))){e=pn(r,e),e=Yh(t,e,1),t=Gt(t,e,1),e=ke(),t!==null&&(Ss(t,1,e),Re(t,e));break}}t=t.return}}function j0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&r,ue===e&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>te()-ru?yr(e,0):tu|=r),Re(e,t)}function yf(e,t){t===0&&(e.mode&1?(t=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):t=1);var r=ke();e=jt(e,t),e!==null&&(Ss(e,t,r),Re(e,r))}function C0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yf(e,r)}function P0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(t),yf(e,r)}var wf;wf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ne=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ne=!1,m0(e,t,r);Ne=!!(e.flags&131072)}else Ne=!1,G&&t.flags&1048576&&bh(t,Ni,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fi(e,t),e=t.pendingProps;var s=cn(t,we.current);an(t,r),s=Jl(null,t,n,e,s,r);var i=Ql();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(n)?(i=!0,Ci(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vl(t),s.updater=na,t.stateNode=s,s._reactInternals=t,Mo(t,n,e,r),t=Wo(null,t,n,!0,i,r)):(t.tag=0,G&&i&&Dl(t),be(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=T0(n),e=Ze(n,e),s){case 0:t=Fo(null,t,n,e,r);break e;case 1:t=pc(null,t,n,e,r);break e;case 11:t=hc(null,t,n,e,r);break e;case 14:t=fc(null,t,n,Ze(n.type,e),r);break e}throw Error(j(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),Fo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),pc(e,t,n,s,r);case 3:e:{if(tf(t),e===null)throw Error(j(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Ph(e,t),Ri(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pn(Error(j(423)),t),t=mc(e,t,n,r,s);break e}else if(n!==s){s=pn(Error(j(424)),t),t=mc(e,t,n,r,s);break e}else for(Me=Kt(t.stateNode.containerInfo.firstChild),Be=t,G=!0,nt=null,r=jh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dn(),n===s){t=Ct(e,t,r);break e}be(e,t,n,r)}t=t.child}return t;case 5:return Nh(t),e===null&&Do(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Ro(n,s)?a=null:i!==null&&Ro(n,i)&&(t.flags|=32),ef(e,t),be(e,t,a,r),t.child;case 6:return e===null&&Do(t),null;case 13:return rf(e,t,r);case 4:return Hl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hn(t,null,n,r):be(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),hc(e,t,n,s,r);case 7:return be(e,t,t.pendingProps,r),t.child;case 8:return be(e,t,t.pendingProps.children,r),t.child;case 12:return be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,V(Ti,n._currentValue),n._currentValue=a,i!==null)if(at(i.value,a)){if(i.children===s.children&&!Te.current){t=Ct(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=kt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Uo(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(j(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Uo(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}be(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,an(t,r),s=Je(s),n=n(s),t.flags|=1,be(e,t,n,r),t.child;case 14:return n=t.type,s=Ze(n,t.pendingProps),s=Ze(n.type,s),fc(e,t,n,s,r);case 15:return Xh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),fi(e,t),t.tag=1,Oe(n)?(e=!0,Ci(t)):e=!1,an(t,r),Jh(t,n,s),Mo(t,n,s,r),Wo(null,t,n,!0,e,r);case 19:return nf(e,t,r);case 22:return Zh(e,t,r)}throw Error(j(156,t.tag))};function xf(e,t){return qd(e,t)}function N0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,r,n){return new N0(e,t,r,n)}function au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function T0(e){if(typeof e=="function")return au(e)?1:0;if(e!=null){if(e=e.$$typeof,e===El)return 11;if(e===jl)return 14}return 2}function Yt(e,t){var r=e.alternate;return r===null?(r=Ke(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gi(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")au(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wr:return wr(r.children,s,i,t);case Sl:a=8,s|=8;break;case uo:return e=Ke(12,r,t,s|2),e.elementType=uo,e.lanes=i,e;case co:return e=Ke(13,r,t,s),e.elementType=co,e.lanes=i,e;case ho:return e=Ke(19,r,t,s),e.elementType=ho,e.lanes=i,e;case Nd:return aa(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cd:a=10;break e;case Pd:a=9;break e;case El:a=11;break e;case jl:a=14;break e;case It:a=16,n=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=Ke(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function wr(e,t,r,n){return e=Ke(7,e,n,t),e.lanes=r,e}function aa(e,t,r,n){return e=Ke(22,e,n,t),e.elementType=Nd,e.lanes=r,e.stateNode={isHidden:!1},e}function Va(e,t,r){return e=Ke(6,e,null,t),e.lanes=r,e}function Ha(e,t,r){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function O0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ou(e,t,r,n,s,i,a,o,l){return e=new O0(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(i),e}function R0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _f(e){if(!e)return er;e=e._reactInternals;e:{if(jr(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var r=e.type;if(Oe(r))return xh(e,r,t)}return t}function bf(e,t,r,n,s,i,a,o,l){return e=ou(r,n,!0,e,s,i,a,o,l),e.context=_f(null),r=e.current,n=ke(),s=Qt(r),i=kt(n,s),i.callback=t??null,Gt(r,i,s),e.current.lanes=s,Ss(e,s,n),Re(e,n),e}function oa(e,t,r,n){var s=t.current,i=ke(),a=Qt(s);return r=_f(r),t.context===null?t.context=r:t.pendingContext=r,t=kt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gt(s,t,a),e!==null&&(it(e,s,a,i),ci(e,s,a)),a}function Mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ec(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function lu(e,t){Ec(e,t),(e=e.alternate)&&Ec(e,t)}function A0(){return null}var kf=typeof reportError=="function"?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}la.prototype.render=uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));oa(e,t,null,null)};la.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){oa(null,e,null,null)}),t[Et]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dt.length&&t!==0&&t<Dt[r].priority;r++);Dt.splice(r,0,e),r===0&&th(e)}};function cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jc(){}function I0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Mi(a);i.call(u)}}var a=bf(t,n,e,0,null,!1,!1,"",jc);return e._reactRootContainer=a,e[Et]=a.current,is(e.nodeType===8?e.parentNode:e),Sr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Mi(l);o.call(u)}}var l=ou(e,0,!1,null,null,!1,!1,"",jc);return e._reactRootContainer=l,e[Et]=l.current,is(e.nodeType===8?e.parentNode:e),Sr(function(){oa(t,l,r,n)}),l}function ca(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Mi(a);o.call(l)}}oa(t,a,e,s)}else a=I0(r,t,e,s,n);return Mi(a)}Yd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dn(t.pendingLanes);r!==0&&(Nl(t,r|1),Re(t,te()),!(B&6)&&(mn=te()+500,nr()))}break;case 13:Sr(function(){var n=jt(e,1);if(n!==null){var s=ke();it(n,e,1,s)}}),lu(e,1)}};Tl=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var r=ke();it(t,e,134217728,r)}lu(e,134217728)}};Xd=function(e){if(e.tag===13){var t=Qt(e),r=jt(e,t);if(r!==null){var n=ke();it(r,e,t,n)}lu(e,t)}};Zd=function(){return F};eh=function(e,t){var r=F;try{return F=e,t()}finally{F=r}};bo=function(e,t,r){switch(t){case"input":if(mo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ea(n);if(!s)throw Error(j(90));Od(n),mo(n,s)}}}break;case"textarea":Ad(e,r);break;case"select":t=r.value,t!=null&&tn(e,!!r.multiple,t,!1)}};Md=nu;Bd=Sr;var L0={usingClientEntryPoint:!1,Events:[js,Kr,ea,Ud,zd,nu]},An={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$0={bundleType:An.bundleType,version:An.version,rendererPackageName:An.rendererPackageName,rendererConfig:An.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vd(e),e===null?null:e.stateNode},findFiberByHostInstance:An.findFiberByHostInstance||A0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{Qi=qs.inject($0),dt=qs}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L0;We.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cu(t))throw Error(j(200));return R0(e,t,null,r)};We.createRoot=function(e,t){if(!cu(e))throw Error(j(299));var r=!1,n="",s=kf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ou(e,1,!1,null,null,r,!1,n,s),e[Et]=t.current,is(e.nodeType===8?e.parentNode:e),new uu(t)};We.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Vd(t),e=e===null?null:e.stateNode,e};We.flushSync=function(e){return Sr(e)};We.hydrate=function(e,t,r){if(!ua(t))throw Error(j(200));return ca(null,e,t,!0,r)};We.hydrateRoot=function(e,t,r){if(!cu(e))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=kf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=bf(t,null,e,1,r??null,s,!1,i,a),e[Et]=t.current,is(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new la(t)};We.render=function(e,t,r){if(!ua(t))throw Error(j(200));return ca(null,e,t,!1,r)};We.unmountComponentAtNode=function(e){if(!ua(e))throw Error(j(40));return e._reactRootContainer?(Sr(function(){ca(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};We.unstable_batchedUpdates=nu;We.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ua(r))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return ca(e,t,r,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function Sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sf)}catch(e){console.error(e)}}Sf(),kd.exports=We;var D0=kd.exports,Cc=D0;oo.createRoot=Cc.createRoot,oo.hydrateRoot=Cc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}var Wt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wt||(Wt={}));const Pc="popstate";function U0(e){e===void 0&&(e={});function t(s,i){let{pathname:a="/",search:o="",hash:l=""}=Cr(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),tl("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof i=="string"?i:Bi(i))}function n(s,i){da(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return M0(t,r,n,e)}function Y(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function da(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z0(){return Math.random().toString(36).substr(2,8)}function Nc(e,t){return{usr:e.state,key:e.key,idx:t}}function tl(e,t,r,n){return r===void 0&&(r=null),ps({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cr(t):t,{state:r,key:t&&t.key||n||z0()})}function Bi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function M0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Wt.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(ps({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Wt.Pop;let x=d(),p=x==null?null:x-u;u=x,l&&l({action:o,location:w.location,delta:p})}function h(x,p){o=Wt.Push;let m=tl(w.location,x,p);r&&r(m,x),u=d()+1;let y=Nc(m,u),_=w.createHref(m);try{a.pushState(y,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:o,location:w.location,delta:1})}function g(x,p){o=Wt.Replace;let m=tl(w.location,x,p);r&&r(m,x),u=d();let y=Nc(m,u),_=w.createHref(m);a.replaceState(y,"",_),i&&l&&l({action:o,location:w.location,delta:0})}function v(x){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:Bi(x);return m=m.replace(/ $/,"%20"),Y(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let w={get action(){return o},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Pc,f),l=x,()=>{s.removeEventListener(Pc,f),l=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let p=v(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(x){return a.go(x)}};return w}var Tc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tc||(Tc={}));function B0(e,t,r){return r===void 0&&(r="/"),F0(e,t,r)}function F0(e,t,r,n){let s=typeof t=="string"?Cr(t):t,i=gn(s.pathname||"/",r);if(i==null)return null;let a=Ef(e);W0(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=eg(i);o=X0(a[l],u)}return o}function Ef(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Y(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Xt([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Y(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ef(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Q0(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of jf(i.path))s(i,a,l)}),t}function jf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=jf(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function W0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Y0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const V0=/^:[\w-]+$/,H0=3,q0=2,K0=1,G0=10,J0=-2,Oc=e=>e==="*";function Q0(e,t){let r=e.split("/"),n=r.length;return r.some(Oc)&&(n+=J0),t&&(n+=q0),r.filter(s=>!Oc(s)).reduce((s,i)=>s+(V0.test(i)?H0:i===""?K0:G0),n)}function Y0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function X0(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=rl({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Xt([i,f.pathname]),pathnameBase:ig(Xt([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Xt([i,f.pathnameBase]))}return a}function rl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Z0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let w=o[f]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=o[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Z0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),da(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function eg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return da(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rg=e=>tg.test(e);function ng(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Cr(e):e,i;if(r)if(rg(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),da(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Rc(r.substring(1),"/"):i=Rc(r,t)}else i=t;return{pathname:i,search:ag(n),hash:og(s)}}function Rc(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function qa(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function du(e,t){let r=sg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hu(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Cr(e):(s=ps({},e),Y(!s.pathname||!s.pathname.includes("?"),qa("?","pathname","search",s)),Y(!s.pathname||!s.pathname.includes("#"),qa("#","pathname","hash",s)),Y(!s.search||!s.search.includes("#"),qa("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=ng(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Xt=e=>e.join("/").replace(/\/\/+/g,"/"),ig=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ag=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,og=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cf=["post","put","patch","delete"];new Set(Cf);const ug=["get",...Cf];new Set(ug);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(this,arguments)}const ha=b.createContext(null),Pf=b.createContext(null),Nt=b.createContext(null),fa=b.createContext(null),sr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Nf=b.createContext(null);function cg(e,t){let{relative:r}=t===void 0?{}:t;xn()||Y(!1);let{basename:n,navigator:s}=b.useContext(Nt),{hash:i,pathname:a,search:o}=pa(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Xt([n,a])),s.createHref({pathname:l,search:o,hash:i})}function xn(){return b.useContext(fa)!=null}function _n(){return xn()||Y(!1),b.useContext(fa).location}function Tf(e){b.useContext(Nt).static||b.useLayoutEffect(e)}function fu(){let{isDataRoute:e}=b.useContext(sr);return e?kg():dg()}function dg(){xn()||Y(!1);let e=b.useContext(ha),{basename:t,future:r,navigator:n}=b.useContext(Nt),{matches:s}=b.useContext(sr),{pathname:i}=_n(),a=JSON.stringify(du(s,r.v7_relativeSplatPath)),o=b.useRef(!1);return Tf(()=>{o.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=hu(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Xt([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}function pa(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Nt),{matches:s}=b.useContext(sr),{pathname:i}=_n(),a=JSON.stringify(du(s,n.v7_relativeSplatPath));return b.useMemo(()=>hu(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function hg(e,t){return fg(e,t)}function fg(e,t,r,n){xn()||Y(!1);let{navigator:s}=b.useContext(Nt),{matches:i}=b.useContext(sr),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=_n(),d;if(t){var f;let x=typeof t=="string"?Cr(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Y(!1),d=x}else d=u;let h=d.pathname||"/",g=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=B0(e,{pathname:g}),w=yg(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Xt([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Xt([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&w?b.createElement(fa.Provider,{value:{location:ms({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Wt.Pop}},w):w}function pg(){let e=bg(),t=lg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const mg=b.createElement(pg,null);class gg extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(sr.Provider,{value:this.props.routeContext},b.createElement(Nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vg(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(ha);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(sr.Provider,{value:t},n)}function yg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Y(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let g,v=!1,w=null,x=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||mg,l&&(u<0&&h===0?(Sg("route-fallback"),v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,h+1)),m=()=>{let y;return g?y=w:v?y=x:f.route.Component?y=b.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,b.createElement(vg,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(gg,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Of=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Of||{}),Rf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rf||{});function wg(e){let t=b.useContext(ha);return t||Y(!1),t}function xg(e){let t=b.useContext(Pf);return t||Y(!1),t}function _g(e){let t=b.useContext(sr);return t||Y(!1),t}function Af(e){let t=_g(),r=t.matches[t.matches.length-1];return r.route.id||Y(!1),r.route.id}function bg(){var e;let t=b.useContext(Nf),r=xg(),n=Af();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kg(){let{router:e}=wg(Of.UseNavigateStable),t=Af(Rf.UseNavigateStable),r=b.useRef(!1);return Tf(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ms({fromRouteId:t},i)))},[e,t])}const Ac={};function Sg(e,t,r){Ac[e]||(Ac[e]=!0)}function Eg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ic(e){let{to:t,replace:r,state:n,relative:s}=e;xn()||Y(!1);let{future:i,static:a}=b.useContext(Nt),{matches:o}=b.useContext(sr),{pathname:l}=_n(),u=fu(),d=hu(t,du(o,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function At(e){Y(!1)}function jg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Wt.Pop,navigator:i,static:a=!1,future:o}=e;xn()&&Y(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:a,future:ms({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=Cr(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=n,w=b.useMemo(()=>{let x=gn(d,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:g,key:v},navigationType:s}},[l,d,f,h,g,v,s]);return w==null?null:b.createElement(Nt.Provider,{value:u},b.createElement(fa.Provider,{children:r,value:w}))}function Cg(e){let{children:t,location:r}=e;return hg(nl(t),r)}new Promise(()=>{});function nl(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,nl(n.props.children,i));return}n.type!==At&&Y(!1),!n.props.index||!n.props.children||Y(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=nl(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(this,arguments)}function If(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Pg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ng(e,t){return e.button===0&&(!t||t==="_self")&&!Pg(e)}const Tg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Og=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Rg="6";try{window.__reactRouterVersion=Rg}catch{}const Ag=b.createContext({isTransitioning:!1}),Ig="startTransition",Lc=jp[Ig];function Lg(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=U0({window:s,v5Compat:!0}));let a=i.current,[o,l]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&Lc?Lc(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>Eg(n),[n]),b.createElement(jg,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const $g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ma=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=If(t,Tg),{basename:g}=b.useContext(Nt),v,w=!1;if(typeof u=="string"&&Dg.test(u)&&(v=u,$g))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=gn(_.pathname,g);_.origin===y.origin&&S!=null?u=S+_.search+_.hash:w=!0}catch{}let x=cg(u,{relative:s}),p=zg(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:f});function m(y){n&&n(y),y.defaultPrevented||p(y)}return b.createElement("a",Fi({},h,{href:v||x,onClick:w||i?n:m,ref:r,target:l}))}),wt=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=t,f=If(t,Og),h=pa(l,{relative:f.relative}),g=_n(),v=b.useContext(Pf),{navigator:w,basename:x}=b.useContext(Nt),p=v!=null&&Mg(h)&&u===!0,m=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,y=g.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(y=y.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase()),_&&x&&(_=gn(_,x)||_);const S=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let E=y===m||!a&&y.startsWith(m)&&y.charAt(S)==="/",C=_!=null&&(_===m||!a&&_.startsWith(m)&&_.charAt(m.length)==="/"),k={isActive:E,isPending:C,isTransitioning:p},P=E?n:void 0,T;typeof i=="function"?T=i(k):T=[i,E?"active":null,C?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let xe=typeof o=="function"?o(k):o;return b.createElement(ma,Fi({},f,{"aria-current":P,className:T,ref:r,style:xe,to:l,viewTransition:u}),typeof d=="function"?d(k):d)});var sl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sl||(sl={}));var $c;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($c||($c={}));function Ug(e){let t=b.useContext(ha);return t||Y(!1),t}function zg(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=fu(),u=_n(),d=pa(e,{relative:a});return b.useCallback(f=>{if(Ng(f,r)){f.preventDefault();let h=n!==void 0?n:Bi(u)===Bi(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,d,n,s,r,e,i,a,o])}function Mg(e,t){t===void 0&&(t={});let r=b.useContext(Ag);r==null&&Y(!1);let{basename:n}=Ug(sl.useViewTransitionState),s=pa(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=gn(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=gn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return rl(s.pathname,a)!=null||rl(s.pathname,i)!=null}var Lf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dc=bt.createContext&&bt.createContext(Lf),Bg=["attr","size","title"];function Fg(e,t){if(e==null)return{};var r=Wg(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wg(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wi(){return Wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wi.apply(this,arguments)}function Uc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uc(Object(r),!0).forEach(function(n){Vg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vg(e,t,r){return t=Hg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hg(e){var t=qg(e,"string");return typeof t=="symbol"?t:t+""}function qg(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $f(e){return e&&e.map((t,r)=>bt.createElement(t.tag,Vi({key:r},t.attr),$f(t.child)))}function me(e){return t=>bt.createElement(Kg,Wi({attr:Vi({},e.attr)},t),$f(e.child))}function Kg(e){var t=r=>{var{attr:n,size:s,title:i}=e,a=Fg(e,Bg),o=s||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),bt.createElement("svg",Wi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:Vi(Vi({color:e.color||r.color},r.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&bt.createElement("title",null,i),e.children)};return Dc!==void 0?bt.createElement(Dc.Consumer,null,r=>t(r)):t(Lf)}function Gg(e){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"},child:[]}]})(e)}function Hi(e){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 256A192 192 0 1 0 64 256a192 192 0 1 0 384 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 80a80 80 0 1 0 0-160 80 80 0 1 0 0 160zm0-224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zM224 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"},child:[]}]})(e)}function Jg(e){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"},child:[]}]})(e)}function Qg(e){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.1 64.8L138.7 96 64 96C28.7 96 0 124.7 0 160L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64l-74.7 0L362.9 64.8C356.4 45.2 338.1 32 317.4 32L194.6 32c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"},child:[]}]})(e)}function pu(e){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"},child:[]}]})(e)}function Yg(e){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(e)}function Xg(e){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(e)}function Zg(e){return me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"},child:[]}]})(e)}function ev(e){return me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"},child:[]}]})(e)}function tv(e){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(e)}function rv(e){return me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"},child:[]}]})(e)}function nv(e){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"},child:[]}]})(e)}function sv(e){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"},child:[]}]})(e)}function Df(e){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"},child:[]}]})(e)}function iv(e){return me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"},child:[]}]})(e)}function av(e){return me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function ov(e){return me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(e)}const Uf="goaltracker_users_v1",zf="goaltracker_current_user_v1",il="goaltracker_goals_v1",al=[{id:"seed-portfolio",userId:"seed",title:"Launch portfolio website",description:"Ship portfolio with case studies.",category:"Career",progress:75,dueDate:new Date(Date.now()+864e6).toISOString().slice(0,10),completed:!1,createdAt:Date.now()-1e5},{id:"seed-books",userId:"seed",title:"Read 3 books this month",description:"Complete reading routine.",category:"Personal",progress:40,dueDate:new Date(Date.now()+1728e6).toISOString().slice(0,10),completed:!1,createdAt:Date.now()-9e4},{id:"seed-gym",userId:"seed",title:"Gym 4x weekly",description:"Strength + cardio plan.",category:"Health",progress:100,dueDate:new Date(Date.now()-864e5).toISOString().slice(0,10),completed:!0,createdAt:Date.now()-8e4}],Ks=()=>JSON.parse(localStorage.getItem(Uf)||"[]"),Gs=e=>localStorage.setItem(Uf,JSON.stringify(e)),lv=()=>JSON.parse(localStorage.getItem(zf)||"null"),Le=e=>localStorage.setItem(zf,JSON.stringify(e));function uv(){const e=localStorage.getItem(il);return e?JSON.parse(e):(localStorage.setItem(il,JSON.stringify(al)),al)}const Ka=e=>localStorage.setItem(il,JSON.stringify(e));function ga(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function cv(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function l(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}const dv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class mu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class hv extends mu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zc extends mu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mc extends mu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ol;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ol||(ol={}));class fv{constructor(t,{headers:r={},customFetch:n,region:s=ol.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=dv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return cv(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:d,timeout:f}=n;let h={},{region:g}=n;g||(g=this.region);const v=new URL(`${this.url}/${r}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let x=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const p=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:w,signal:x}).catch(S=>{throw new hv(S)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new zc(p);if(!p.ok)throw new Mc(p);let y=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield p.json():y==="application/octet-stream"||y==="application/pdf"?_=yield p.blob():y==="text/event-stream"?_=p:y==="multipart/form-data"?_=yield p.formData():_=yield p.text(),{data:_,error:null,response:p}}catch(o){return{data:null,error:o,response:o instanceof Mc||o instanceof zc?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var pv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},mv=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var g;const p=await i.text();p===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?o=p:o=JSON.parse(p))}const w=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,d="OK")}catch{i.status===404&&w===""?(u=204,d="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new pv(a)}return{error:a,data:o,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",l="",u="";const d=i==null?void 0:i.cause;if(d){var f,h,g,v;const p=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",m=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";o=`${(g=i==null?void 0:i.name)!==null&&g!==void 0?g:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(v=d==null?void 0:d.name)!==null&&v!==void 0?v:"Error"}: ${p}`,m&&(o+=` (${m})`),d!=null&&d.stack&&(o+=`
${d.stack}`)}else{var w;o=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const x=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(l+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},gv=class extends mv{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Bc=new RegExp("[,()]");var zr=class extends gv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Bc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Bc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},vv=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new zr({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new zr({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new zr({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new zr({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new zr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function yv(e,t){if(gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wv(e){var t=yv(e,"string");return gs(t)=="symbol"?t:t+""}function xv(e,t,r){return(t=wv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fc(Object(r),!0).forEach(function(n){xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var _v=class Mf{constructor(t,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),i),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(f),o(l,u);const g=()=>{clearTimeout(f),d.abort()};return h.addEventListener("abort",g,{once:!0}),o(l,Js(Js({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),h.removeEventListener("abort",g)})}return o(l,Js(Js({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new vv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Mf(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;const d=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(d)),f=n&&Object.values(r).some(d);f?(o="POST",u=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{l.searchParams.append(g,v)})):(o="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new zr({method:o,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class bv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kv="2.95.3",Sv=`realtime-js/${kv}`,Ev="1.0.0",Bf="2.0.0",Wc=Bf,ll=1e4,jv=1e3,Cv=100;var $t;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($t||($t={}));var se;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(se||(se={}));var rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rt||(rt={}));var ul;(function(e){e.websocket="websocket"})(ul||(ul={}));var hr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hr||(hr={}));class Pv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,l.length),v.setUint8(w++,o.length),v.setUint8(w++,a.length),v.setUint8(w++,u.length),v.setUint8(w++,f.length),v.setUint8(w++,r),Array.from(l,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(o,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(a,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(u,p=>v.setUint8(w++,p.charCodeAt(0))),Array.from(f,p=>v.setUint8(w++,p.charCodeAt(0)));var x=new Uint8Array(g.byteLength+n.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(n),g.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),g=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Ff{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(W||(W={}));const Vc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=Nv(a,e,t,s),i),{}):{}},Nv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Wf(i,a):cl(a)},Wf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Av(t,r)}switch(e){case W.bool:return Tv(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Ov(t);case W.json:case W.jsonb:return Rv(t);case W.timestamp:return Iv(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return cl(t);default:return cl(t)}},cl=e=>e,Tv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ov=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Rv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Av=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Wf(t,o))}return e},Iv=e=>typeof e=="string"?e.replace(" ","T"):e,Vf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ga{constructor(t,r,n={},s=ll){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hc||(Hc={}));class Jn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Jn.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),g=f.map(x=>x.presence_ref),v=d.filter(x=>g.indexOf(x.presence_ref)<0),w=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(o[u]=v),w.length>0&&(l[u]=w)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qc||(qc={}));var Qn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qn||(Qn={}));var vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class en{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ga(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Ff(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Jn(this),this.broadcastEndpointURL=Vf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Qn.PRESENCE]&&this.bindings[Qn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(vt.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(vt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(vt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,p=[];for(let m=0;m<x;m++){const y=w[m],{filter:{event:_,schema:S,table:E,filter:C}}=y,k=g&&g[m];if(k&&k.event===_&&en.isFilterValueEqual(k.schema,S)&&en.isFilterValueEqual(k.table,E)&&en.isFilterValueEqual(k.filter,C))p.push(Object.assign(Object.assign({},y),{id:k.id}));else{this.unsubscribe(),this.state=se.errored,t==null||t(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(vt.SUBSCRIBED);return}}).receive("error",g=>{this.state=se.errored,t==null||t(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===se.joined&&t===Qn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=se.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ga(this,rt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ga(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Cv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=rt;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,w,x;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(w=g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var v,w,x,p,m,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const _=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:w,table:x,commit_timestamp:p,type:m,errors:y}=v;h=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:p,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(v))}g.callback(h,n)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&en.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rt.close,{},t)}_onError(t){this._on(rt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Vc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Vc(t.columns,t.old_record)),r}}const Ja=()=>{},Qs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lv=[1e3,2e3,5e3,1e4],$v=1e4,Dv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ll,this.transport=null,this.heartbeatIntervalMs=Qs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ja,this.ref=0,this.reconnectTimer=null,this.vsn=Wc,this.logger=Ja,this.conn=null,this.sendBuffer=[],this.serializer=new Pv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ul.websocket}`,this.httpEndpoint=Vf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $t.connecting:return hr.Connecting;case $t.open:return hr.Open;case $t.closing:return hr.Closing;default:return hr.Closed}}isConnected(){return this.connectionState()===hr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new en(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===$t.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$t.open||this.conn.readyState===$t.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(rt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Dv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Sv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(rt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ff(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,u,d,f,h,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ll,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Qs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Ja,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Wc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>Lv[v-1]||$v,this.vsn){case Ev:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,w)=>w(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,w)=>w(JSON.parse(v));break;case Bf:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var vs=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zv(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Mv(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Bv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=zv(e.baseUrl,n,s),l=await Mv(e.auth),u=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,v=g==null?void 0:g.error;throw new vs((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function Ys(e){return e.join("")}var Fv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ys(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ys(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ys(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ys(e.namespace)}`}),!0}catch(t){if(t instanceof vs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof vs&&r.status===409)return;throw r}}};function Or(e){return e.join("")}var Wv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof vs&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof vs&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Vv=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Bv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Fv(this.client,t),this.tableOps=new Wv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},va=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function ya(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Xs=class extends va{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hf=class extends va{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Hv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dl=e=>{if(Array.isArray(e))return e.map(r=>dl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=dl(n)}),t},Kv=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Gv(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jv(e){var t=Gv(e,"string");return ys(t)=="symbol"?t:t+""}function Qv(e,t,r){return(t=Jv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kc(Object(r),!0).forEach(function(n){Qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Gc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Yv=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new Xs(Gc(a),i,o,n))}).catch(()=>{if(n==="vectors"){const a=i+"";t(new Xs(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";t(new Xs(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";t(new Xs(s.statusText||`HTTP ${i} error`,i,a,n))}}else t(new Hf(Gc(e),e,n))},Xv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?$($({},s),r):(qv(n)?(s.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),$($({},s),r))};async function In(e,t,r,n,s,i,a){return new Promise((o,l)=>{e(r,Xv(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>Yv(u,l,n,a))})}function qf(e="storage"){return{get:async(t,r,n,s)=>In(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>In(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>In(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>In(t,"HEAD",r,$($({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>In(t,"DELETE",r,s,i,n,e)}}const Zv=qf("storage"),{get:ws,post:et,put:hl,head:ey,remove:gu}=Zv,ze=qf("vectors");var bn=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Hv(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ya(r))return{data:null,error:r};throw r}}},ty=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ya(t))return{data:null,error:t};throw t}}};let Kf;Kf=Symbol.toStringTag;var ry=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Kf]="BlobDownloadBuilder",this.promise=null}asStream(){return new ty(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ya(t))return{data:null,error:t};throw t}}};const ny={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sy=class extends bn{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=$($({},Jc),n);let o=$($({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=$($({},o),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?hl:et)(s.fetch,`${s.url}/object/${d}`,i,$({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),s.handleOperation(async()=>{let l;const u=$({upsert:Jc.upsert},n),d=$($({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await hl(s.fetch,o.toString(),l,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=$({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await et(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new va("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await et(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await et(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await et(n.fetch,`${n.url}/object/sign/${s}`,$({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await et(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>$($({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),o=()=>ws(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new ry(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>dl(await ws(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await ey(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ya(n)&&n instanceof Hf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await gu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=$($($({},ny),t),{},{prefix:e||""});return await et(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=$({},e);return await et(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const iy="2.95.3",Ps={"X-Client-Info":`storage-js/${iy}`};var ay=class extends bn{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=$($({},Ps),t);super(i,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ws(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ws(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await et(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await hl(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await et(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await gu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},oy=class extends bn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Ps),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await et(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ws(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await gu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Kv(e))throw new va("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Vv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},ly=class extends bn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Ps),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ze.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ze.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},uy=class extends bn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Ps),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},cy=class extends bn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Ps),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},dy=class extends cy{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new hy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},hy=class extends ly{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new fy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},fy=class extends uy{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},py=class extends ay{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new sy(this.url,this.headers,e,this.fetch)}get vectors(){return new dy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oy(this.url+"/iceberg",this.headers,this.fetch)}};const Gf="2.95.3",Mr=30*1e3,fl=3,Qa=fl*Mr,my="http://localhost:9999",gy="supabase.auth.token",vy={"X-Client-Info":`gotrue-js/${Gf}`},pl="X-Supabase-Api-Version",Jf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wy=10*60*1e3;class xs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xy extends xs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _y(e){return A(e)&&e.name==="AuthApiError"}class fr extends xs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tt extends xs{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $e extends Tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ya(e){return A(e)&&e.name==="AuthSessionMissingError"}class Rr extends Tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zs extends Tt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ei extends Tt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function by(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qc extends Tt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ky extends Tt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ml extends Tt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xa(e){return A(e)&&e.name==="AuthRetryableFetchError"}class Yc extends Tt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gl extends Tt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xc=` 	
\r=`.split(""),Sy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xc.length;t+=1)e[Xc[t].charCodeAt(0)]=-2;for(let t=0;t<qi.length;t+=1)e[qi[t].charCodeAt(0)]=t;return e})();function Zc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(qi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(qi[n]),t.queuedBits-=6}}function Qf(e,t,r){const n=Sy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ed(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Cy(a,n,r)};for(let a=0;a<e.length;a+=1)Qf(e.charCodeAt(a),s,i);return t.join("")}function Ey(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ey(n,t)}}function Cy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ln(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Qf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Py(e){const t=[];return jy(e,r=>t.push(r)),new Uint8Array(t)}function vr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Zc(s,r,n)),Zc(null,r,n),t.join("")}function Ny(e){return Math.round(Date.now()/1e3)+e}function Ty(){return Symbol("auth-callback")}const de=()=>typeof window<"u"&&typeof document<"u",ar={tested:!1,writable:!1},Yf=()=>{if(!de())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ar.tested)return ar.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ar.tested=!0,ar.writable=!0}catch{ar.tested=!0,ar.writable=!1}return ar.writable};function Oy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Xf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ry=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Br=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},or=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ce=async(e,t)=>{await e.removeItem(t)};class wa{constructor(){this.promise=new wa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wa.promiseConstructor=Promise;function ti(e){const t=e.split(".");if(t.length!==3)throw new gl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yy.test(t[n]))throw new gl("JWT not in base64url format");return{header:JSON.parse(ed(t[0])),payload:JSON.parse(ed(t[1])),signature:ln(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ay(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Iy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Ly(e){return("0"+e.toString(16)).substr(-2)}function $y(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Ly).join("")}async function Dy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Uy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Dy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(e,t,r=!1){const n=$y();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Br(e,`${t}-code-verifier`,s);const i=await Uy(n);return[i,n===i?"plain":"s256"]}const zy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function My(e){const t=e.headers.get(pl);if(!t||!t.match(zy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function By(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Fy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(e){if(!Wy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Za(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vy(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function td(e){return JSON.parse(JSON.stringify(e))}const dr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hy=[502,503,504];async function rd(e){var t;if(!Ry(e))throw new ml(dr(e),0);if(Hy.includes(e.status))throw new ml(dr(e),e.status);let r;try{r=await e.json()}catch(i){throw new fr(dr(i),i)}let n;const s=My(e);if(s&&s.getTime()>=Jf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yc(dr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $e}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Yc(dr(r),e.status,r.weak_password.reasons);throw new xy(dr(r),e.status||500,n)}const qy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function L(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[pl]||(i[pl]=Jf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Ky(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Ky(e,t,r,n,s,i){const a=qy(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new ml(dr(l),0)}if(o.ok||await rd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await rd(l)}}function Xe(e){var t;let r=null;Qy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ny(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nd(e){const t=Xe(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Gy(e){return{data:e,error:null}}function Jy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=ga(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function sd(e){return e}function Qy(e){return e.access_token&&e.refresh_token&&e.expires_in}const eo=["global","local","others"];class Yy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Xf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=eo[0]){if(eo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eo.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ga(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Jy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sd});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ir(t);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ir(t);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ir(t);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ir(t.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ir(t.userId),Ir(t.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sd});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(A(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}}function id(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Lr={debug:!!(globalThis&&Yf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Xy extends Zf{}async function Zy(e,t,r){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Xy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ew(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ep(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function tw(e){return parseInt(e,16)}function rw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function nw(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=ep(e.address),v=d?`${d}://${n}`:n,w=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${g}

${w}`;let p=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),o&&(p+=`
Not Before: ${o.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}p+=m}return`${x}
${p}`}class re extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ki extends re{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function sw({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(tp(a)){if(i.rp.id!==a)return new re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function iw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tp(n)){if(r.rpId!==n)return new re({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class aw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ow=new aw;function lw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ga(e,["challenge","user","excludeCredentials"]),i=ln(t).buffer,a=Object.assign(Object.assign({},r),{id:ln(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ln(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function uw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ga(e,["challenge","allowCredentials"]),s=ln(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:ln(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function cw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:vr(new Uint8Array(e.response.attestationObject)),clientDataJSON:vr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vr(new Uint8Array(s.authenticatorData)),clientDataJSON:vr(new Uint8Array(s.clientDataJSON)),signature:vr(new Uint8Array(s.signature)),userHandle:s.userHandle?vr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ad(){var e,t;return!!(de()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function hw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ki("Browser returned unexpected credential type",t)}:{data:null,error:new Ki("Empty credential response",t)}}catch(t){return{data:null,error:sw({error:t,options:e})}}}async function fw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ki("Browser returned unexpected credential type",t)}:{data:null,error:new Ki("Empty credential response",t)}}catch(t){return{data:null,error:iw({error:t,options:e})}}}const pw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=Gi(o,a):n[i]=Gi(a)}else n[i]=a}return n}function gw(e,t){return Gi(pw,e,t||{})}function vw(e,t){return Gi(mw,e,t||{})}class yw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const u=s??ow.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const g=(await this.client.getUser()).data.user,v=((a=g==null?void 0:g.user_metadata)===null||a===void 0?void 0:a.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=gw(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await hw({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=vw(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await fw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new fr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new xs("rpId is required for WebAuthn authentication")};try{if(!ad())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new fr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new xs("rpId is required for WebAuthn registration")};try{if(!ad())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new fr("Unexpected error in register",a)}}}}ew();const ww={url:my,storageKey:gy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function od(e,t,r){return await r()}const $r={};class _s{get jwks(){var t,r;return(r=(t=$r[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$r[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},ww),t);if(this.storageKey=i.storageKey,this.instanceID=(r=_s.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,_s.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&de()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Yy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Xf(i.fetch),this.lock=i.lock||od,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&de()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Zy:this.lock=od,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Yf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=id(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=id(this.memoryStorage)),de()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(de()&&(r=Oy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),de()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),by(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new fr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xe}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Ar(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Xe})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xe})}else throw new Zs("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ce(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nd})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nd})}else throw new Zs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Rr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,l,u,d,f,h;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:w,wallet:x,statement:p,options:m}=t;let y;if(de())if(typeof x=="object")y=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")y=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await y.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=ep(S[0]);let C=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const P=await y.request({method:"eth_chainId"});C=tw(P)}const k={domain:_.host,address:E,statement:p,uri:_.href,version:"1",chainId:C,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=nw(k),v=await y.request({method:"personal_sign",params:[rw(g),E]})}try{const{data:w,error:x}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xe});if(x)throw x;if(!w||!w.session||!w.user){const p=new Rr;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(A(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,a,o,l,u,d,f,h,g;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:x,wallet:p,statement:m,options:y}=t;let _;if(de())if(typeof p=="object")_=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:x,error:p}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:vr(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Xe});if(p)throw p;if(!x||!x.session||!x.user){const m=new Rr;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:p})}catch(x){if(A(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await or(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ky;const{data:i,error:a}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xe});if(await ce(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Rr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xe}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Rr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ar(this.storage,this.storageKey));const{error:f}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Zs("You must provide either an email or phone number.")}catch(o){if(await ce(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xe});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Ar(this.storage,this.storageKey));const u=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Gy});return!((i=u.data)===null||i===void 0)&&i.url&&de()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await ce(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $e;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(A(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Zs("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Qa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await or(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Za()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Vy(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zt})})}catch(r){if(A(r))return Ya(r)&&(await this._removeSession(),await ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $e;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Ar(this.storage,this.storageKey));const{data:u,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:zt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ce(this.storage,`${this.storageKey}-code-verifier`),A(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $e;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=ti(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $e;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!de())throw new ei("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ei(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ei("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qc("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new ei("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(A(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Ya(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(_y(o)&&(o.status===404||o.status===401||o.status===403)||Ya(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Ty(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ar(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),A(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,d;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return de()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(A(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:d}=t,f=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xe}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Rr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(s){if(await ce(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Iy(async s=>(s>0&&await Ay(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xe})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Xa(i)&&Date.now()+a-n<Mr})}catch(n){if(this._debug(r,"error",n),A(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),de()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await or(this.storage,this.storageKey);if(s&&this.userStorage){let a=await or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Br(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Za()}else if(s&&!s.user&&!s.user){const a=await or(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ce(this.storage,this.storageKey+"-user"),await Br(this.storage,this.storageKey,s)):s.user=Za()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qa;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Qa}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Xa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wa;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new $e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),A(i)){const a={data:null,error:i};return Xa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ce(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Br(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=td(s);await Br(this.storage,this.storageKey,i)}else{const s=td(r);await Br(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ce(this.storage,this.storageKey),await ce(this.storage,this.storageKey+"-code-verifier"),await ce(this.storage,this.storageKey+"-user"),this.userStorage&&await ce(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&de()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mr}ms, refresh threshold is ${fl} ticks`),s<=fl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!de()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ar(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await L(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?cw(t.webauthn.credential_response):dw(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:lw(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:uw(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:g}=ti(t);let v=null;g.aal&&(v=g.aal);let w=v;const{data:{user:x},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const y=g.amr||[];return{data:{currentLevel:v,nextLevel:w,currentAuthenticationMethods:y},error:null}}catch(g){if(A(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ti(a.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $e})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const a=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&de()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const a=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&de()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new $e})})}catch(t){if(A(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $e})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+wy>s)return n;const{data:i,error:a}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=ti(n);r!=null&&r.allowExpired||By(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const d=Fy(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Py(`${o}.${l}`)))throw new gl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}}_s.nextInstanceID={};const xw=_s,_w="2.95.3";let zn="";typeof Deno<"u"?zn="deno":typeof document<"u"?zn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zn="react-native":zn="node";const bw={"X-Client-Info":`supabase-js-${zn}/${_w}`},kw={headers:bw},Sw={schema:"public"},Ew={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jw={};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Cw(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pw(e){var t=Cw(e,"string");return bs(t)=="symbol"?t:t+""}function Nw(e,t,r){return(t=Pw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ld(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ld(Object(r),!0).forEach(function(n){Nw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Tw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ow=()=>Headers,Rw=(e,t,r)=>{const n=Tw(r),s=Ow();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Z(Z({},a),{},{headers:u}))}};function Aw(e){return e.endsWith("/")?e:e+"/"}function Iw(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Z(Z({},l),s),auth:Z(Z({},u),i),realtime:Z(Z({},d),a),storage:{},global:Z(Z(Z({},f),o),{},{headers:Z(Z({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Lw(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Aw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $w=class extends xw{constructor(e){super(e)}},Dw=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Lw(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:Sw,realtime:jw,auth:Z(Z({},Ew),{},{storageKey:a}),global:kw},l=Iw(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Rw(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Z({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new _v(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new py(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new fv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $w({url:this.authUrl.href,headers:Z(Z({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Uv(this.realtimeUrl.href,Z(Z({},e),{},{params:Z(Z({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Uw=(e,t,r)=>new Dw(e,t,r);function zw(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}zw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mw="https://pgjomurwfepjbsfcswkv.supabase.co",rp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBnam9tdXJ3ZmVwamJzZmNzd2t2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzExMjU3NTEsImV4cCI6MjA4NjcwMTc1MX0.lhFuVAd_boPYiw1JYrDxXdGYONMRq1dQWmJpMbauMLY",Ce=!!rp,Ue=Ce?Uw(Mw,rp):null,np=b.createContext(null),mt={id:"guest-local-user",name:"Mjcity",email:"guest@local",sex:"",age:"",avatarUrl:"",avatarPosX:50,avatarPosY:50},ri=e=>{var t,r,n,s,i,a,o;return{id:e.id,name:((t=e.user_metadata)==null?void 0:t.name)||((r=e.email)==null?void 0:r.split("@")[0])||"User",email:e.email,sex:((n=e.user_metadata)==null?void 0:n.sex)||"",age:((s=e.user_metadata)==null?void 0:s.age)||"",avatarUrl:((i=e.user_metadata)==null?void 0:i.avatarUrl)||"",avatarPosX:Number(((a=e.user_metadata)==null?void 0:a.avatarPosX)??50),avatarPosY:Number(((o=e.user_metadata)==null?void 0:o.avatarPosY)??50)}},ud=e=>/quota|rate limit|too many requests/i.test(String((e==null?void 0:e.message)||""));function Bw({children:e}){const[t,r]=b.useState(lv()||mt),[n,s]=b.useState(Ce);b.useEffect(()=>{if(!Ce)return;let d=!0;(async()=>{var g;try{const v=new Promise(p=>setTimeout(()=>p({data:{user:null},timeout:!0}),6e3)),w=await Promise.race([Ue.auth.getUser(),v]);if(!d)return;const x=(g=w==null?void 0:w.data)==null?void 0:g.user;if(x){const p=ri(x);r(p),Le(p)}else r(mt),Le(mt)}catch{if(!d)return;r(mt),Le(mt)}finally{d&&s(!1)}})();const{data:h}=Ue.auth.onAuthStateChange((g,v)=>{const w=v==null?void 0:v.user;if(w){const x=ri(w);r(x),Le(x)}else r(mt),Le(mt)});return()=>{d=!1,h.subscription.unsubscribe()}},[]);const i=async({name:d,email:f,password:h})=>{const g=f.trim().toLowerCase();if(Ce){const{data:p,error:m}=await Ue.auth.signUp({email:g,password:h,options:{data:{name:d.trim(),sex:"",age:"",avatarUrl:"",avatarPosX:50,avatarPosY:50}}});if(m&&!ud(m))throw m;if(!m){const y=p.user;if(y){const _=ri({...y,user_metadata:{...y.user_metadata||{},name:d.trim()}});r(_),Le(_)}return}}const v=Ks();if(v.some(p=>p.email.toLowerCase()===g))throw new Error("Email already in use");const w={id:crypto.randomUUID(),name:d.trim(),email:g,password:h,sex:"",age:"",avatarUrl:"",avatarPosX:50,avatarPosY:50};Gs([...v,w]);const x={id:w.id,name:w.name,email:w.email,sex:"",age:"",avatarUrl:"",avatarPosX:50,avatarPosY:50};r(x),Le(x)},a=async({email:d,password:f})=>{const h=d.trim().toLowerCase();if(Ce){const{data:w,error:x}=await Ue.auth.signInWithPassword({email:h,password:f});if(x&&!ud(x))throw x;if(!x){const p=w.user,m=ri(p);r(m),Le(m);return}}const g=Ks(),v=g.find(w=>w.email===h&&w.password===f);if(v){const w={id:v.id,name:v.name,email:v.email,sex:v.sex||"",age:v.age||"",avatarUrl:v.avatarUrl||"",avatarPosX:Number(v.avatarPosX??50),avatarPosY:Number(v.avatarPosY??50)};r(w),Le(w);return}if(Ce){const w={id:crypto.randomUUID(),name:h.split("@")[0]||"User",email:h,password:f,sex:"",age:"",avatarUrl:"",avatarPosX:50,avatarPosY:50};Gs([...g,w]);const x={id:w.id,name:w.name,email:w.email,sex:"",age:"",avatarUrl:"",avatarPosX:50,avatarPosY:50};r(x),Le(x);return}throw new Error("Invalid credentials")},o=async d=>{const f={...t,...d,avatarPosX:Number(d.avatarPosX??(t==null?void 0:t.avatarPosX)??50),avatarPosY:Number(d.avatarPosY??(t==null?void 0:t.avatarPosY)??50)};if(Ce){const{error:v}=await Ue.auth.updateUser({data:{name:f.name,sex:f.sex||"",age:f.age||"",avatarUrl:f.avatarUrl||"",avatarPosX:f.avatarPosX,avatarPosY:f.avatarPosY}});if(v)throw v;r(f),Le(f);return}const h=Ks(),g=h.findIndex(v=>v.id===(t==null?void 0:t.id));if(g===-1)throw new Error("User not found");h[g]={...h[g],...f},Gs(h),r(f),Le(f)},l=async({currentPassword:d,newPassword:f})=>{if(!f||f.length<8)throw new Error("New password must be at least 8 characters");if(Ce){const{error:v}=await Ue.auth.updateUser({password:f});if(v)throw v;return}const h=Ks(),g=h.findIndex(v=>v.id===(t==null?void 0:t.id));if(g===-1)throw new Error("User not found");if(h[g].password!==d)throw new Error("Current password is incorrect");h[g]={...h[g],password:f},Gs(h)},u=async()=>{Ce&&await Ue.auth.signOut(),r(mt),Le(mt)};return c.jsx(np.Provider,{value:b.useMemo(()=>({currentUser:t,signup:i,login:a,updateProfile:o,changePassword:l,logout:u,authLoading:n,supabaseEnabled:Ce}),[t,n]),children:e})}const Pr=()=>{const e=b.useContext(np);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e};function Fw(){const[e,t]=b.useState({email:"",password:""}),[r,n]=b.useState(""),[s,i]=b.useState(!1),{login:a}=Pr(),o=fu(),l=async u=>{u.preventDefault(),n(""),i(!0);try{await a(e),o("/dashboard")}catch(d){n(d.message)}finally{i(!1)}};return c.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-100 p-4",children:c.jsxs("form",{onSubmit:l,className:"w-full max-w-md rounded-3xl bg-white p-6 text-slate-900 shadow-soft",children:[c.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[c.jsx("div",{className:"grid h-11 w-11 place-items-center rounded-xl bg-brand-600 text-white",children:c.jsx(Hi,{})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"GoalTracker"}),c.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Welcome back"})]})]}),r?c.jsx("p",{className:"mb-3 rounded-lg bg-rose-50 p-2 text-sm text-rose-700",children:r}):null,c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{type:"email",placeholder:"Email",value:e.email,onChange:u=>t(d=>({...d,email:u.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-slate-900 placeholder:text-slate-400",required:!0}),c.jsx("input",{type:"password",placeholder:"Password",value:e.password,onChange:u=>t(d=>({...d,password:u.target.value})),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-slate-900 placeholder:text-slate-400",required:!0})]}),c.jsx("button",{disabled:s,className:"mt-4 w-full rounded-lg bg-brand-600 py-2 font-medium text-white hover:bg-brand-700 disabled:opacity-60",children:s?"Logging in...":"Login"}),c.jsx("p",{className:"mt-4 text-center text-sm text-slate-600",children:"Account creation is temporarily disabled."})]})})}const to=({isActive:e})=>`flex w-full items-center gap-3 rounded-xl px-3 py-2 text-left transition border ${e?"border-cyan-300/40 bg-cyan-500/15 text-cyan-100":"border-transparent text-slate-300 hover:border-white/10 hover:bg-white/5"}`;function Ww(){return c.jsxs("aside",{className:"hidden w-64 shrink-0 rounded-3xl border border-white/10 bg-slate-900/70 p-5 text-slate-100 shadow-[0_15px_40px_rgba(2,6,23,0.6)] backdrop-blur-xl md:block",children:[c.jsxs("div",{className:"mb-10 flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-gradient-to-br from-cyan-400 to-blue-500 text-slate-950",children:c.jsx(Hi,{})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-slate-400",children:"Project"}),c.jsx("p",{className:"font-semibold",children:"Mjcitytrack"})]})]}),c.jsxs("nav",{className:"space-y-2 text-sm",children:[c.jsxs(wt,{to:"/dashboard",className:to,children:[c.jsx(tv,{})," Dashboard"]}),c.jsxs(wt,{to:"/progress",className:to,children:[c.jsx(pu,{})," Progress"]}),c.jsxs(wt,{to:"/settings",className:to,children:[c.jsx(Df,{})," Settings"]})]})]})}function Vw({onAdd:e,onToggleMobileMenu:t,title:r="Mjcitytrack",subtitle:n="Track goals and level up daily",showAdd:s=!0}){const{currentUser:i,logout:a}=Pr(),[o,l]=b.useState(!1),[u,d]=b.useState(localStorage.getItem("mj_theme")||"dark");b.useEffect(()=>{document.body.dataset.theme=u},[u]);const f=()=>{const h=u==="dark"?"vibrant":"dark";d(h),localStorage.setItem("mj_theme",h),document.body.dataset.theme=h};return c.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b border-white/10 bg-slate-900/40 px-4 py-4 md:px-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:t,className:"grid h-10 w-10 place-items-center rounded-xl border border-white/15 text-slate-300 hover:bg-white/10 md:hidden","aria-label":"Open menu",children:c.jsx(Gg,{})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:r}),c.jsx("p",{className:"text-sm text-slate-300",children:n})]})]}),c.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c.jsx("button",{onClick:f,className:"rounded-xl border border-white/15 bg-white/5 px-3 py-2 text-slate-100","aria-label":"Toggle theme",children:u==="dark"?c.jsx(iv,{}):c.jsx(rv,{})}),s&&c.jsxs("button",{onClick:e,className:"flex items-center gap-2 rounded-xl border border-cyan-300/30 bg-cyan-500/20 px-4 py-2 text-sm font-medium text-cyan-100 hover:bg-cyan-500/30",children:[c.jsx(Xg,{})," New Goal"]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>l(h=>!h),className:"flex items-center gap-2 rounded-xl border border-white/15 bg-white/5 px-3 py-2 hover:bg-white/10","aria-label":"Open profile menu",children:[c.jsx("div",{className:"h-7 w-7 overflow-hidden rounded-full border border-slate-500/60 bg-slate-800",children:i!=null&&i.avatarUrl?c.jsx("img",{src:i.avatarUrl,alt:"Profile",className:"h-full w-full object-cover",style:{objectPosition:`${Number((i==null?void 0:i.avatarPosX)??50)}% ${Number((i==null?void 0:i.avatarPosY)??50)}%`}}):null}),c.jsxs("div",{className:"hidden text-left md:block",children:[c.jsx("p",{className:"text-sm font-medium leading-tight text-slate-100",children:i==null?void 0:i.name}),c.jsx("p",{className:"text-xs leading-tight text-slate-300",children:i==null?void 0:i.email})]})]}),o&&c.jsxs("div",{className:"absolute left-0 z-30 mt-2 w-56 max-w-[calc(100vw-2rem)] rounded-xl border border-white/10 bg-slate-900/95 p-2 shadow-2xl md:left-auto md:right-0",children:[c.jsx(ma,{to:"/settings",onClick:()=>l(!1),className:"block rounded-lg px-3 py-2 text-sm text-slate-100 hover:bg-white/10",children:"Profile & Settings"}),c.jsxs("button",{onClick:async()=>{l(!1),await a()},className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left text-sm text-slate-100 hover:bg-white/10",children:[c.jsx(sv,{})," Logout"]})]})]})]})]})}const ro=({isActive:e})=>`block rounded-xl px-3 py-2 text-sm ${e?"bg-cyan-500/20 text-cyan-200 border border-cyan-300/30":"text-slate-200 hover:bg-white/10"}`,no=({isActive:e})=>`flex flex-col items-center gap-1 rounded-2xl px-5 py-2 text-xs transition ${e?"bg-orange-300 text-slate-950":"text-slate-200"}`;function vu({children:e,onAdd:t,title:r,subtitle:n,showAdd:s=!0}){const[i,a]=b.useState(!1);return c.jsxs("div",{className:"min-h-screen text-slate-100",children:[c.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:fixed focus:left-3 focus:top-3 focus:z-50 focus:rounded-lg focus:bg-cyan-300 focus:px-3 focus:py-2 focus:text-slate-950",children:"Skip to content"}),c.jsxs("div",{className:"mx-auto flex max-w-7xl gap-4 p-4 md:p-6",children:[c.jsx(Ww,{}),c.jsxs("div",{className:"relative flex min-h-[85vh] flex-1 flex-col overflow-hidden rounded-3xl border border-white/10 bg-slate-900/70 shadow-[0_24px_55px_rgba(2,6,23,0.65)] backdrop-blur-xl",children:[c.jsx(Vw,{onAdd:t,title:r,subtitle:n,showAdd:s,onToggleMobileMenu:()=>a(o=>!o)}),i&&c.jsx("div",{className:"border-b border-white/10 bg-slate-900/95 p-3 md:hidden",children:c.jsxs("nav",{className:"grid gap-2",children:[c.jsx(wt,{to:"/dashboard",className:ro,onClick:()=>a(!1),children:"Dashboard"}),c.jsx(wt,{to:"/progress",className:ro,onClick:()=>a(!1),children:"Progress"}),c.jsx(wt,{to:"/settings",className:ro,onClick:()=>a(!1),children:"Settings"})]})}),c.jsx("main",{id:"main-content",className:"flex-1 overflow-y-auto p-4 pb-24 md:p-6 md:pb-6",children:e}),c.jsxs("nav",{className:"fixed bottom-4 left-1/2 z-40 flex w-[88%] -translate-x-1/2 items-center justify-center rounded-3xl border border-white/15 bg-slate-900/95 p-2 shadow-2xl md:hidden",children:[c.jsxs(wt,{to:"/dashboard",className:no,children:[c.jsx(ev,{className:"text-base"})," Home"]}),c.jsxs(wt,{to:"/progress",className:no,children:[c.jsx(pu,{className:"text-base"})," Progress"]}),c.jsxs(wt,{to:"/settings",className:no,children:[c.jsx(Df,{className:"text-base"})," Settings"]})]})]})]})]})}function Hw({filter:e,setFilter:t,sort:r,setSort:n,categories:s}){const i="h-11 w-full max-w-full rounded-xl border border-white/55 bg-white/80 px-3 py-2 text-sm font-semibold text-slate-900 outline-none ring-cyan-300/40 focus:ring";return c.jsxs("div",{className:"mb-4 rounded-[28px] border border-white/40 bg-gradient-to-br from-cyan-300 via-blue-300 to-indigo-300 p-4 text-slate-950 shadow-[0_14px_30px_rgba(2,6,23,0.25)]",children:[c.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[c.jsx("h4",{className:"text-xl font-black",children:"Goal Filters"}),c.jsx("span",{className:"rounded-full bg-black px-3 py-1 text-[10px] font-bold uppercase tracking-wide text-white",children:"Smart Sort"})]}),c.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"mb-1 block text-xs font-black text-slate-900/85",children:"Category"}),c.jsxs("select",{value:e.category,onChange:a=>t(o=>({...o,category:a.target.value})),className:i,children:[c.jsx("option",{value:"all",children:"All"}),s.map(a=>c.jsx("option",{value:a,children:a},a))]})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"mb-1 block text-xs font-black text-slate-900/85",children:"Status"}),c.jsxs("select",{value:e.status,onChange:a=>t(o=>({...o,status:a.target.value})),className:i,children:[c.jsx("option",{value:"all",children:"All"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"completed",children:"Completed"})]})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"mb-1 block text-xs font-black text-slate-900/85",children:"Due Date"}),c.jsx("input",{type:"date",value:e.dueDate,onChange:a=>t(o=>({...o,dueDate:a.target.value})),className:`${i} appearance-none`})]}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("label",{className:"mb-1 block text-xs font-black text-slate-900/85",children:"Sort"}),c.jsxs("select",{value:r,onChange:a=>n(a.target.value),className:i,children:[c.jsx("option",{value:"created",children:"Newest"}),c.jsx("option",{value:"dueDate",children:"Due Date"}),c.jsx("option",{value:"progressDesc",children:"Progress High  Low"}),c.jsx("option",{value:"progressAsc",children:"Progress Low  High"})]})]})]})]})}function qw({value:e}){const t=Math.max(0,Math.min(100,Number(e||0)));return c.jsx("div",{className:"h-3 w-full overflow-hidden rounded-full bg-slate-700/80 ring-1 ring-white/10",children:c.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-cyan-300 via-sky-400 to-emerald-300 shadow-[0_0_14px_rgba(34,211,238,0.45)] transition-all duration-500",style:{width:`${t}%`}})})}const sp=e=>e?new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):"-",ip=e=>{if(!e)return!1;const t=new Date(e),r=new Date;return r.setHours(0,0,0,0),t<r},cd=[{card:"from-cyan-300 to-sky-400 text-slate-950 border-cyan-200/60",chip:"bg-white/55 text-slate-900",panel:"bg-white/45 border-white/40",input:"bg-white/70 border-white/55 text-slate-900 placeholder:text-slate-600",button:"bg-slate-900 text-white border-slate-900/40 hover:bg-slate-800"},{card:"from-indigo-300 to-blue-400 text-slate-950 border-indigo-200/60",chip:"bg-white/55 text-slate-900",panel:"bg-white/45 border-white/40",input:"bg-white/70 border-white/55 text-slate-900 placeholder:text-slate-600",button:"bg-slate-900 text-white border-slate-900/40 hover:bg-slate-800"},{card:"from-orange-300 to-amber-400 text-slate-950 border-orange-200/60",chip:"bg-white/55 text-slate-900",panel:"bg-white/45 border-white/40",input:"bg-white/70 border-white/55 text-slate-900 placeholder:text-slate-600",button:"bg-slate-900 text-white border-slate-900/40 hover:bg-slate-800"},{card:"from-rose-300 to-red-400 text-slate-950 border-rose-200/60",chip:"bg-white/55 text-slate-900",panel:"bg-white/45 border-white/40",input:"bg-white/70 border-white/55 text-slate-900 placeholder:text-slate-600",button:"bg-slate-900 text-white border-slate-900/40 hover:bg-slate-800"},{card:"from-fuchsia-300 to-pink-400 text-slate-950 border-fuchsia-200/60",chip:"bg-white/55 text-slate-900",panel:"bg-white/45 border-white/40",input:"bg-white/70 border-white/55 text-slate-900 placeholder:text-slate-600",button:"bg-slate-900 text-white border-slate-900/40 hover:bg-slate-800"},{card:"from-emerald-300 to-green-400 text-slate-950 border-emerald-200/60",chip:"bg-white/55 text-slate-900",panel:"bg-white/45 border-white/40",input:"bg-white/70 border-white/55 text-slate-900 placeholder:text-slate-600",button:"bg-slate-900 text-white border-slate-900/40 hover:bg-slate-800"}];function Kw(e){const t=String(e.id||e.title||"0");let r=0;for(let n=0;n<t.length;n+=1)r=r*31+t.charCodeAt(n)>>>0;return cd[r%cd.length]}function Gw({goal:e,onEdit:t,onDelete:r,onToggleComplete:n,onQuickProgress:s,onToggleSubtask:i,onAddSubtask:a,onAddJournal:o,onSetWeeklyStatus:l,onOpenDetails:u}){var y,_,S,E,C,k,P;const[d,f]=b.useState(""),[h,g]=b.useState(""),v=((y=e.media)==null?void 0:y.subtasks)||[],w=Number(((_=e.media)==null?void 0:_.streakCount)||0),x=Number(((S=e.media)==null?void 0:S.freezeTokens)||0),p=b.useMemo(()=>Kw(e),[e]),m=((E=e.media)==null?void 0:E.collaborators)||[];return c.jsxs("article",{onClick:()=>u==null?void 0:u(e),className:`card-hover relative overflow-hidden rounded-[30px] border bg-gradient-to-br p-4 shadow-[0_18px_35px_rgba(2,6,23,0.35)] ${p.card}`,children:[c.jsx("div",{className:"pointer-events-none absolute -right-3 -bottom-8 text-[130px] font-black leading-none text-black/10",children:e.progress}),c.jsxs("div",{className:"relative z-10 mb-3 flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-black tracking-tight",children:e.title}),c.jsx("p",{className:"mt-1 text-base text-slate-900/80",children:e.description})]}),c.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-semibold ${p.chip}`,children:e.category})]}),((C=e.media)==null?void 0:C.dataUrl)&&c.jsx("div",{className:`mb-3 overflow-hidden rounded-2xl border ${p.panel}`,children:(k=e.media.type)!=null&&k.startsWith("video/")?c.jsx("video",{src:e.media.dataUrl,controls:!0,className:"max-h-52 w-full bg-black"}):c.jsx("img",{src:e.media.dataUrl,alt:`${e.title} media`,className:"max-h-52 w-full object-cover"})}),c.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-sm",children:[c.jsxs("span",{className:`rounded-full px-3 py-1 font-semibold ${p.chip}`,children:["Streak: ",w,"d"]}),c.jsxs("span",{className:`rounded-full px-3 py-1 font-semibold ${p.chip}`,children:["Freeze: ",x]}),m.slice(0,2).map(T=>c.jsxs("span",{className:`rounded-full px-3 py-1 font-semibold ${p.chip}`,children:["@",T]},T)),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-slate-900/80",children:"Week:"}),c.jsxs("select",{value:((P=e.media)==null?void 0:P.weeklyStatus)||"thisWeek",onClick:T=>T.stopPropagation(),onChange:T=>l(e.id,T.target.value),className:`rounded-xl border px-2 py-1 ${p.input}`,children:[c.jsx("option",{value:"thisWeek",children:"This week"}),c.jsx("option",{value:"nextWeek",children:"Next week"}),c.jsx("option",{value:"blocked",children:"Blocked"})]})]})]}),c.jsxs("div",{className:"mb-3 space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between text-lg",children:[c.jsx("span",{className:"font-bold text-slate-900/85",children:"Progress"}),c.jsxs("span",{className:"font-black",children:[e.progress,"%"]})]}),c.jsx(qw,{value:e.progress})]}),c.jsxs("div",{className:"mb-3 flex items-center justify-between text-sm text-slate-900/80",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Jg,{})," ",sp(e.dueDate)]}),ip(e.dueDate)&&!e.completed?c.jsx("span",{className:"rounded-full bg-rose-600/20 px-3 py-1 text-rose-900",children:"Overdue"}):e.completed?c.jsx("span",{className:"rounded-full bg-emerald-600/20 px-3 py-1 text-emerald-900",children:"Completed"}):null]}),c.jsx("div",{className:"mb-4 flex items-center gap-2 py-2",onPointerDown:T=>T.stopPropagation(),onTouchStart:T=>T.stopPropagation(),children:c.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:e.progress,onInput:T=>s(e.id,Number(T.currentTarget.value)),onChange:T=>s(e.id,Number(T.currentTarget.value)),className:"h-3 w-full cursor-pointer accent-cyan-500",style:{touchAction:"none"},"aria-label":`Adjust progress for ${e.title}`})}),c.jsxs("div",{onClick:T=>T.stopPropagation(),className:`mb-3 rounded-2xl border p-3 ${p.panel}`,children:[c.jsx("p",{className:"mb-2 text-base font-bold text-slate-900",children:"Milestones / Subtasks"}),c.jsx("div",{className:"space-y-1 text-slate-900",children:v.map(T=>c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("input",{type:"checkbox",checked:!!T.done,onChange:()=>i(e.id,T.id)})," ",T.text]},T.id))}),c.jsxs("div",{className:"mt-2 flex gap-2",children:[c.jsx("input",{value:d,onChange:T=>f(T.target.value),placeholder:"Add subtask",className:`w-full rounded-xl border px-3 py-2 text-sm ${p.input}`}),c.jsx("button",{onClick:()=>{a(e.id,d),f("")},className:`rounded-xl border px-3 py-2 text-sm font-semibold ${p.button}`,children:"Add"})]})]}),c.jsxs("div",{onClick:T=>T.stopPropagation(),className:`mb-3 rounded-2xl border p-3 ${p.panel}`,children:[c.jsx("p",{className:"mb-2 text-base font-bold text-slate-900",children:"Progress Journal"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{value:h,onChange:T=>g(T.target.value),placeholder:"Quick check-in",className:`w-full rounded-xl border px-3 py-2 text-sm ${p.input}`}),c.jsx("button",{onClick:()=>{o(e.id,{note:h}),g("")},className:`rounded-xl border px-3 py-2 text-sm font-semibold ${p.button}`,children:"Log"})]})]}),c.jsxs("div",{onClick:T=>T.stopPropagation(),className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>n(e),className:"flex items-center gap-1 rounded-xl border border-slate-900/25 bg-slate-900 px-3 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:[c.jsx(Yg,{})," ",e.completed?"Set Active":"Complete"]}),c.jsxs("button",{onClick:()=>t(e),className:"flex items-center gap-1 rounded-xl border border-slate-900/25 bg-slate-900 px-3 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:[c.jsx(nv,{})," Edit"]}),c.jsxs("button",{onClick:()=>r(e.id),className:"flex items-center gap-1 rounded-xl border border-rose-700/35 bg-rose-600/20 px-3 py-2 text-sm font-semibold text-rose-900 hover:bg-rose-600/30",children:[c.jsx(av,{})," Delete"]})]})]})}const dd={title:"",description:"",category:"Personal",progress:0,dueDate:"",completed:!1,media:null};function Jw({open:e,onClose:t,onSubmit:r,initialGoal:n,userId:s}){var v,w;const[i,a]=b.useState(dd),[o,l]=b.useState(!1),[u,d]=b.useState(""),f=b.useRef(null);if(b.useEffect(()=>{var p;const x=n||dd;a(x),d((((p=x.media)==null?void 0:p.collaborators)||[]).join(", "))},[n,e]),b.useEffect(()=>{if(!e)return;const x=setTimeout(()=>{var p,m;(p=f.current)==null||p.focus(),(m=f.current)==null||m.scrollIntoView({block:"center",behavior:"smooth"})},120);return()=>clearTimeout(x)},[e]),!e)return null;const h=x=>{x.preventDefault(),i.title.trim()&&r({...i,title:i.title.trim(),description:i.description.trim(),progress:Number(i.progress),media:{...i.media||{},collaborators:u.split(",").map(p=>p.trim()).filter(Boolean)},userId:s})},g=async x=>{if(x){l(!0);try{const p=await Qw(x);a(m=>({...m,media:{name:x.name,type:x.type,dataUrl:p}}))}finally{l(!1)}}};return c.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-slate-900/55 p-3 md:grid md:place-items-center md:p-4",children:c.jsxs("form",{onSubmit:h,className:"mx-auto mt-4 w-full max-w-lg rounded-[28px] border border-white/20 bg-gradient-to-br from-cyan-300 via-blue-300 to-indigo-300 p-5 text-slate-950 shadow-[0_18px_35px_rgba(2,6,23,0.45)] md:mt-8",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-black",children:n?"Edit Goal":"Create Goal"}),c.jsx("button",{type:"button",onClick:t,className:"rounded-lg bg-white/60 p-1 text-slate-700 hover:bg-white",children:c.jsx(ov,{})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-sm font-bold text-slate-800",children:"Title"}),c.jsx("input",{ref:f,value:i.title,onChange:x=>a(p=>({...p,title:x.target.value})),className:"w-full rounded-xl border border-white/60 bg-white/75 px-3 py-2 font-medium text-slate-900",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-sm font-bold text-slate-800",children:"Description"}),c.jsx("textarea",{value:i.description,onChange:x=>a(p=>({...p,description:x.target.value})),className:"w-full rounded-xl border border-white/60 bg-white/75 px-3 py-2 font-medium text-slate-900",rows:"3"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-sm font-bold text-slate-800",children:"Collaborators (comma separated)"}),c.jsx("input",{value:u,onChange:x=>d(x.target.value),placeholder:"Ope, Team Lead",className:"w-full rounded-xl border border-white/60 bg-white/75 px-3 py-2 font-medium text-slate-900"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-sm font-bold text-slate-800",children:"Category"}),c.jsxs("select",{value:i.category,onChange:x=>a(p=>({...p,category:x.target.value})),className:"w-full rounded-xl border border-white/60 bg-white/75 px-3 py-2 font-medium text-slate-900",children:[c.jsx("option",{children:"Personal"}),c.jsx("option",{children:"Career"}),c.jsx("option",{children:"Health"}),c.jsx("option",{children:"Finance"}),c.jsx("option",{children:"Learning"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-sm font-bold text-slate-800",children:"Progress %"}),c.jsx("input",{type:"number",min:"0",max:"100",value:i.progress,onChange:x=>a(p=>({...p,progress:x.target.value})),className:"w-full rounded-xl border border-white/60 bg-white/75 px-3 py-2 font-medium text-slate-900"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-1 block text-sm font-bold text-slate-800",children:"Due Date"}),c.jsx("input",{type:"date",value:i.dueDate,onChange:x=>a(p=>({...p,dueDate:x.target.value})),className:"h-11 w-full appearance-none rounded-xl border border-white/60 bg-white/75 px-3 py-2 font-medium text-slate-900"})]})]}),c.jsxs("div",{className:"rounded-2xl border border-white/50 bg-white/40 p-3",children:[c.jsx("p",{className:"mb-2 text-sm font-bold text-slate-800",children:"Goal Photo/Video"}),c.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[c.jsxs("label",{className:"cursor-pointer rounded-xl border border-white/60 bg-white/70 px-3 py-2 text-sm font-semibold hover:bg-white",children:["Take Photo/Video",c.jsx("input",{type:"file",accept:"image/*,video/*",capture:"environment",className:"hidden",onChange:x=>{var p;return g((p=x.target.files)==null?void 0:p[0])}})]}),c.jsxs("label",{className:"cursor-pointer rounded-xl border border-white/60 bg-white/70 px-3 py-2 text-sm font-semibold hover:bg-white",children:["Upload Photo/Video",c.jsx("input",{type:"file",accept:"image/*,video/*",className:"hidden",onChange:x=>{var p;return g((p=x.target.files)==null?void 0:p[0])}})]})]}),o&&c.jsx("p",{className:"mt-2 text-xs text-slate-600",children:"Processing media..."}),((v=i.media)==null?void 0:v.dataUrl)&&c.jsxs("div",{className:"mt-3",children:[(w=i.media.type)!=null&&w.startsWith("video/")?c.jsx("video",{src:i.media.dataUrl,controls:!0,className:"max-h-44 w-full rounded-xl bg-black"}):c.jsx("img",{src:i.media.dataUrl,alt:"Goal media preview",className:"max-h-44 w-full rounded-xl object-cover"}),c.jsx("button",{type:"button",onClick:()=>a(x=>({...x,media:null})),className:"mt-2 text-xs font-semibold text-rose-700 hover:underline",children:"Remove media"})]})]})]}),c.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-white/70 bg-white/60 px-4 py-2 text-sm font-semibold",children:"Cancel"}),c.jsx("button",{type:"submit",className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:n?"Save Changes":"Create Goal"})]})]})})}function Qw(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsDataURL(e)})}function Yw({goal:e,open:t,onClose:r}){var o,l,u,d,f;if(!t||!e)return null;const n=((o=e.media)==null?void 0:o.journal)||[],s=((l=e.media)==null?void 0:l.subtasks)||[],i=((u=e.media)==null?void 0:u.collaborators)||[],a=s.filter(h=>h.done).length;return c.jsxs("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true",children:[c.jsx("button",{className:"absolute inset-0 bg-slate-950/65",onClick:r,"aria-label":"Close goal details"}),c.jsxs("aside",{className:"absolute bottom-0 right-0 h-[86vh] w-full overflow-y-auto rounded-t-3xl border border-white/10 bg-slate-950 p-5 text-slate-100 shadow-2xl md:top-0 md:h-full md:max-w-xl md:rounded-none md:border-l",children:[c.jsxs("div",{className:"mb-4 flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-cyan-300",children:"Goal details"}),c.jsx("h2",{className:"text-2xl font-black",children:e.title}),c.jsx("p",{className:"mt-1 text-sm text-slate-300",children:e.description||"No description yet."})]}),c.jsx("button",{onClick:r,className:"rounded-lg border border-white/20 px-3 py-1 text-sm font-semibold",children:"Close"})]}),!!i.length&&c.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:i.map(h=>c.jsxs("span",{className:"rounded-full border border-cyan-300/30 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200",children:["@",h]},h))}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(Dr,{label:"Progress",value:`${e.progress||0}%`}),c.jsx(Dr,{label:"Status",value:e.completed?"Completed":ip(e.dueDate)?"Overdue":"Active"}),c.jsx(Dr,{label:"Due",value:sp(e.dueDate)}),c.jsx(Dr,{label:"Category",value:e.category||"General"}),c.jsx(Dr,{label:"Streak",value:`${Number(((d=e.media)==null?void 0:d.streakCount)||0)}d`}),c.jsx(Dr,{label:"Freeze",value:`${Number(((f=e.media)==null?void 0:f.freezeTokens)||0)}`})]}),c.jsxs("section",{className:"mt-4 rounded-2xl border border-white/10 bg-white/5 p-3",children:[c.jsx("h3",{className:"mb-2 text-sm font-bold uppercase tracking-wide text-slate-300",children:"Milestones"}),c.jsxs("p",{className:"mb-2 text-sm text-slate-300",children:[a,"/",s.length," completed"]}),s.length?c.jsx("ul",{className:"space-y-2 text-sm",children:s.map(h=>c.jsx("li",{className:"rounded-lg border border-white/10 bg-slate-900/70 px-3 py-2",children:c.jsxs("span",{className:h.done?"text-emerald-300":"text-slate-100",children:[h.done?" ":" ",h.text]})},h.id))}):c.jsx("p",{className:"text-sm text-slate-400",children:"No subtasks yet."})]}),c.jsxs("section",{className:"mt-4 rounded-2xl border border-white/10 bg-white/5 p-3",children:[c.jsx("h3",{className:"mb-2 text-sm font-bold uppercase tracking-wide text-slate-300",children:"Recent check-ins"}),n.length?c.jsx("ul",{className:"space-y-2 text-sm",children:n.slice(0,8).map(h=>c.jsxs("li",{className:"rounded-lg border border-white/10 bg-slate-900/70 px-3 py-2",children:[c.jsx("p",{className:"text-xs text-cyan-300",children:h.date}),c.jsx("p",{children:h.note||"Check-in logged"})]},h.id))}):c.jsx("p",{className:"text-sm text-slate-400",children:"No check-ins yet."})]})]})]})}function Dr({label:e,value:t}){return c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:e}),c.jsx("p",{className:"text-sm font-bold text-slate-100",children:t})]})}function Xw({goals:e,compact:t=!1}){const r=e.flatMap(d=>{var f;return(((f=d.media)==null?void 0:f.journal)||[]).map(h=>h.date)}).filter(Boolean),n=r.reduce((d,f)=>(d[f]=(d[f]||0)+1,d),{}),s=[],i=new Date;for(let d=83;d>=0;d-=1){const f=new Date(i);f.setDate(i.getDate()-d);const h=f.toISOString().slice(0,10);s.push({key:h,count:n[h]||0})}const a=s.reduce((d,f)=>{const h=f.key.slice(0,7);return d[h]=(d[h]||0)+f.count,d},{}),o=Object.entries(a).slice(-4),l=e.length?Math.round(r.length/e.length):0,u=d=>d>=4?"bg-emerald-400":d>=2?"bg-emerald-500/70":d>=1?"bg-emerald-700/70":"bg-slate-800";return c.jsxs("div",{children:[!t&&c.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-black",children:"Consistency Heatmap"}),c.jsx("span",{className:"text-xs text-slate-400",children:"Last 12 weeks"})]}),c.jsx("div",{className:"grid grid-cols-14 gap-1",children:s.map(d=>c.jsx("div",{title:`${d.key}: ${d.count} check-in(s)`,className:`h-4 w-full rounded-sm ${u(d.count)}`},d.key))}),c.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-slate-400",children:[c.jsx("span",{children:"Less"}),c.jsx("span",{className:"h-3 w-3 rounded-sm bg-slate-800"}),c.jsx("span",{className:"h-3 w-3 rounded-sm bg-emerald-700/70"}),c.jsx("span",{className:"h-3 w-3 rounded-sm bg-emerald-500/70"}),c.jsx("span",{className:"h-3 w-3 rounded-sm bg-emerald-400"}),c.jsx("span",{children:"More"})]}),c.jsxs("div",{className:"mt-3 grid gap-2 sm:grid-cols-2",children:[c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-2 text-xs text-slate-300",children:[c.jsx("p",{className:"mb-1 font-bold text-slate-200",children:"Monthly trend"}),o.map(([d,f])=>c.jsxs("p",{children:[d,": ",f," check-ins"]},d))]}),c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-2 text-xs text-slate-300",children:[c.jsx("p",{className:"mb-1 font-bold text-slate-200",children:"Completion velocity"}),c.jsxs("p",{children:[l," average check-ins per goal"]}),c.jsxs("p",{children:[e.filter(d=>d.completed).length,"/",e.length," goals completed"]})]})]})]})}const ap=b.createContext(null),yu=(e=new Date)=>{const t=new Date(e),r=(t.getDay()+6)%7;return t.setDate(t.getDate()-r),t.toISOString().slice(0,10)};function Mt(e){const t=e.media||{};return{...e,media:{...t,subtasks:t.subtasks||[],weeklyStatus:t.weeklyStatus||"thisWeek",weeklyBucket:t.weeklyBucket||yu(),carryOverCount:Number(t.carryOverCount||0),freezeTokens:Number(t.freezeTokens??2),streakCount:Number(t.streakCount||0),lastCheckinDate:t.lastCheckinDate||null,consistencyHistory:t.consistencyHistory||[],journal:t.journal||[]}}}function so(e){return Mt({id:e.id,userId:e.user_id,title:e.title,description:e.description||"",category:e.category||"Personal",progress:e.progress||0,dueDate:e.due_date||"",completed:!!e.completed,createdAt:new Date(e.created_at).getTime(),media:e.media||null})}function Zw(e){const t=yu();return e.media.weeklyBucket===t?e:e.media.weeklyStatus==="thisWeek"&&!e.completed?Mt({...e,media:{...e.media,weeklyStatus:"nextWeek",weeklyBucket:t,carryOverCount:Number(e.media.carryOverCount||0)+1}}):Mt({...e,media:{...e.media,weeklyBucket:t}})}function ex({children:e}){const[t,r]=b.useState(uv().map(Mt)),[n,s]=b.useState(!1);b.useEffect(()=>{if(!Ce)return;(async()=>{var p;s(!0);const{data:g}=await Ue.auth.getUser(),v=(p=g==null?void 0:g.user)==null?void 0:p.id;if(!v){s(!1);return}const{data:w,error:x}=await Ue.from("goals").select("*").eq("user_id",v).order("created_at",{ascending:!1});if(!x&&w){const m=w.map(so).map(Zw);r([...m,...al.map(Mt)])}s(!1)})()},[]);const i=async h=>{var w;const g=Mt(h);if(Ce){const{data:x}=await Ue.auth.getUser(),p=(w=x==null?void 0:x.user)==null?void 0:w.id;if(!p)throw new Error("Please log in again.");const m={user_id:p,title:g.title,description:g.description||"",category:g.category||"Personal",progress:Number(g.progress||0),due_date:g.dueDate||null,completed:!!g.completed,media:g.media||null},{data:y,error:_}=await Ue.from("goals").insert(m).select().single();if(_)throw _;r(S=>[so(y),...S]);return}const v=[{...g,id:crypto.randomUUID(),createdAt:Date.now()},...t];r(v),Ka(v)},a=async(h,g)=>{if(h!=null&&h.startsWith("seed-")){r(w=>w.map(x=>x.id===h?Mt({...x,...g,media:{...x.media,...g.media||{}}}):x));return}if(Ce){const w=t.find(y=>y.id===h),x={};"title"in g&&(x.title=g.title),"description"in g&&(x.description=g.description),"category"in g&&(x.category=g.category),"progress"in g&&(x.progress=Number(g.progress||0)),"dueDate"in g&&(x.due_date=g.dueDate||null),"completed"in g&&(x.completed=!!g.completed),"media"in g&&(x.media={...(w==null?void 0:w.media)||{},...g.media});const{data:p,error:m}=await Ue.from("goals").update(x).eq("id",h).select().single();if(m)throw m;r(y=>y.map(_=>_.id===h?so(p):_));return}const v=t.map(w=>w.id===h?Mt({...w,...g,media:{...w.media,...g.media||{}}}):w);r(v),Ka(v)},o=async h=>{if(h!=null&&h.startsWith("seed-")){r(v=>v.filter(w=>w.id!==h));return}if(Ce){const{error:v}=await Ue.from("goals").delete().eq("id",h);if(v)throw v;r(w=>w.filter(x=>x.id!==h));return}const g=t.filter(v=>v.id!==h);r(g),Ka(g)},l=async(h,g)=>{const v=t.find(m=>m.id===h);if(!v)return;const w=(v.media.subtasks||[]).map(m=>m.id===g?{...m,done:!m.done}:m),x=w.filter(m=>m.done).length,p=w.length?Math.round(x/w.length*100):v.progress;await a(h,{progress:p,completed:p>=100,media:{subtasks:w}})},u=async(h,g)=>{const v=t.find(x=>x.id===h);if(!v||!(g!=null&&g.trim()))return;const w=[...v.media.subtasks||[],{id:crypto.randomUUID(),text:g.trim(),done:!1}];await a(h,{media:{subtasks:w}})},d=async(h,g)=>{const v=t.find(E=>E.id===h);if(!v)return;const w=new Date().toISOString().slice(0,10),x=v.media.lastCheckinDate,p=x?Math.round((new Date(w)-new Date(x))/864e5):1;let m=Number(v.media.streakCount||0),y=Number(v.media.freezeTokens||0);p===0||(p===1?m+=1:y>0?(y-=1,m+=1):m=1);const _=[{id:crypto.randomUUID(),date:w,note:g.note||"",media:g.media||null},...v.media.journal||[]].slice(0,100),S=Array.from(new Set([...v.media.consistencyHistory||[],w])).sort();await a(h,{media:{journal:_,streakCount:m,freezeTokens:y,lastCheckinDate:w,consistencyHistory:S}})},f=async(h,g)=>a(h,{media:{weeklyStatus:g,weeklyBucket:yu()}});return c.jsx(ap.Provider,{value:b.useMemo(()=>({goals:t,createGoal:i,updateGoal:a,deleteGoal:o,goalsLoading:n,toggleSubtask:l,addSubtask:u,addJournalEntry:d,setWeeklyStatus:f}),[t,n]),children:e})}const op=()=>{const e=b.useContext(ap);if(!e)throw new Error("useGoals must be used inside GoalProvider");return e};function tx(){const{goals:e,createGoal:t,updateGoal:r,deleteGoal:n,toggleSubtask:s,addSubtask:i,addJournalEntry:a,setWeeklyStatus:o}=op(),{currentUser:l}=Pr(),[u,d]=b.useState(!1),[f,h]=b.useState(null),[g,v]=b.useState({category:"all",status:"all",dueDate:""}),[w,x]=b.useState("created"),[p,m]=b.useState(!1),[y,_]=b.useState(null),[S,E]=b.useState(!1),[C,k]=b.useState(null),P=b.useMemo(()=>e.filter(N=>N.userId===l.id||N.userId==="seed"),[e,l.id]),T=b.useMemo(()=>P.filter(I=>!(g.category!=="all"&&I.category!==g.category||g.status==="completed"&&!I.completed||g.status==="active"&&I.completed||g.dueDate&&I.dueDate!==g.dueDate)).sort((I,U)=>w==="dueDate"?(I.dueDate||"").localeCompare(U.dueDate||""):w==="progressDesc"?U.progress-I.progress:w==="progressAsc"?I.progress-U.progress:U.createdAt-I.createdAt),[P,g,w]),xe=b.useMemo(()=>[...new Set(e.map(N=>N.category))],[e]),ft=b.useMemo(()=>({thisWeek:P.filter(N=>{var I;return(((I=N.media)==null?void 0:I.weeklyStatus)||"thisWeek")==="thisWeek"}),nextWeek:P.filter(N=>{var I;return(((I=N.media)==null?void 0:I.weeklyStatus)||"thisWeek")==="nextWeek"}),blocked:P.filter(N=>{var I;return(((I=N.media)==null?void 0:I.weeklyStatus)||"thisWeek")==="blocked"})}),[P]),ir=b.useMemo(()=>{var U,je;if(!P.length)return"Create your first goal and log one check-in to start your momentum.";const N=[...P].sort((oe,Ae)=>{var Ie,_e,Nr,ot,Ot,En;return(((Nr=(_e=(Ie=oe.media)==null?void 0:Ie.journal)==null?void 0:_e[0])==null?void 0:Nr.date)||"").localeCompare(((En=(Ot=(ot=Ae.media)==null?void 0:ot.journal)==null?void 0:Ot[0])==null?void 0:En.date)||"")})[0],I=[...P].sort((oe,Ae)=>{var Ie,_e;return Number(((Ie=Ae.media)==null?void 0:Ie.carryOverCount)||0)-Number(((_e=oe.media)==null?void 0:_e.carryOverCount)||0)})[0];return((U=I==null?void 0:I.media)==null?void 0:U.carryOverCount)>0?`Coach: ${I.title} keeps carrying over. Break it into 2 subtasks and complete one today.`:N&&!(((je=N.media)==null?void 0:je.journal)||[]).length?`Coach: Add a quick check-in for "${N.title}" to restart progress.`:"Coach: You are on track. Keep daily check-ins and finish one subtask per active goal."},[P]),kn=b.useMemo(()=>P.flatMap(N=>{var I;return(((I=N.media)==null?void 0:I.journal)||[]).filter(U=>{var je;return(je=U.media)==null?void 0:je.dataUrl}).map(U=>({...U,goalTitle:N.title}))}).sort((N,I)=>String(I.date).localeCompare(String(N.date))).slice(0,10),[P]),Ns=b.useMemo(()=>{const N=new Date;N.setHours(0,0,0,0);const I=[];return P.forEach(U=>{var oe,Ae;if(U.completed)return;if(U.dueDate){const Ie=new Date(U.dueDate);Ie.setHours(0,0,0,0);const _e=Math.floor((Ie-N)/864e5);_e<0?I.push({id:`${U.id}-overdue`,level:"high",text:`${U.title} is overdue. Finish one subtask today.`}):_e<=2&&I.push({id:`${U.id}-soon`,level:"med",text:`${U.title} is due in ${_e} day${_e===1?"":"s"}.`})}const je=(Ae=(((oe=U.media)==null?void 0:oe.journal)||[])[0])==null?void 0:Ae.date;if(!je)I.push({id:`${U.id}-nocheck`,level:"med",text:`No check-in yet for ${U.title}. Add a quick update now.`});else{const Ie=new Date(je);Ie.setHours(0,0,0,0);const _e=Math.floor((N-Ie)/864e5);_e>=3&&I.push({id:`${U.id}-idle`,level:"low",text:`${U.title} has been idle for ${_e} days.`})}}),I.slice(0,6)},[P]),pt=b.useMemo(()=>{const N=new Date,I=new Date(N),U=(I.getDay()+6)%7;I.setDate(I.getDate()-U);const je=I.toISOString().slice(0,10),oe=P.length,Ae=P.filter(ot=>ot.completed).length,Ie=oe?Math.round(P.reduce((ot,Ot)=>ot+Number(Ot.progress||0),0)/oe):0,_e=P.reduce((ot,Ot)=>{var En;return ot+(((En=Ot.media)==null?void 0:En.journal)||[]).filter(lp=>(lp.date||"")>=je).length},0),Nr=[...P].sort((ot,Ot)=>Number(Ot.progress||0)-Number(ot.progress||0))[0];return{total:oe,completed:Ae,avgProgress:Ie,checkIns:_e,topGoal:(Nr==null?void 0:Nr.title)||"No goals yet"}},[P]),Sn=async N=>{f?await r(f.id,N):await t(N),h(null),d(!1)},O=()=>{h(null),d(!0)},D=N=>{h(N),d(!0)},z=N=>r(N.id,{completed:!N.completed,progress:N.completed?Math.min(N.progress,99):100}),H=async N=>{const I={fitness:[{title:"Walk 30 minutes daily",description:"Daily cardio and consistency",category:"Health",progress:0,dueDate:"",completed:!1,media:{weeklyStatus:"thisWeek"}},{title:"Strength training x3 weekly",description:"Three focused sessions",category:"Health",progress:0,dueDate:"",completed:!1,media:{weeklyStatus:"thisWeek"}}],money:[{title:"Save first $500 buffer",description:"Emergency mini-fund",category:"Finance",progress:0,dueDate:"",completed:!1,media:{weeklyStatus:"thisWeek"}},{title:"Track daily expenses",description:"Record all spending for 30 days",category:"Finance",progress:0,dueDate:"",completed:!1,media:{weeklyStatus:"thisWeek"}}],content:[{title:"Publish 2 videos this week",description:"Plan, shoot, edit, publish",category:"Career",progress:0,dueDate:"",completed:!1,media:{weeklyStatus:"thisWeek"}},{title:"Draft 1 tech article",description:"Research + publish workflow",category:"Career",progress:0,dueDate:"",completed:!1,media:{weeklyStatus:"nextWeek"}}]};for(const U of I[N]||[])await t({...U,userId:l.id});navigator!=null&&navigator.vibrate&&navigator.vibrate(20)};return c.jsxs(vu,{onAdd:O,title:"Dashboard",subtitle:"Your goals, deadlines, and daily focus",children:[c.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-xs",children:[c.jsx("span",{className:"rounded-full border border-white/15 bg-white/5 px-3 py-2",children:" Walk 30 min"}),c.jsx("span",{className:"rounded-full border border-white/15 bg-white/5 px-3 py-2",children:" Stretch 10 min"}),c.jsx("span",{className:"rounded-full border border-white/15 bg-white/5 px-3 py-2",children:" Rest"})]}),c.jsxs("div",{className:"sticky top-0 z-20 mb-4 flex flex-wrap gap-2 rounded-2xl border border-white/10 bg-slate-900/80 p-2 backdrop-blur",children:[c.jsx("button",{onClick:()=>{var N;O(),(N=navigator==null?void 0:navigator.vibrate)==null||N.call(navigator,10)},className:"rounded-xl bg-cyan-400 px-3 py-2 text-xs font-bold text-slate-950",children:"+ Quick Goal"}),c.jsx("button",{onClick:()=>H("fitness"),className:"rounded-xl bg-emerald-300 px-3 py-2 text-xs font-bold text-slate-950",children:"Fitness Pack"}),c.jsx("button",{onClick:()=>H("money"),className:"rounded-xl bg-amber-300 px-3 py-2 text-xs font-bold text-slate-950",children:"Money Pack"}),c.jsx("button",{onClick:()=>H("content"),className:"rounded-xl bg-fuchsia-300 px-3 py-2 text-xs font-bold text-slate-950",children:"Creator Pack"})]}),c.jsxs("div",{role:"button",tabIndex:0,onClick:()=>m(N=>!N),onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),m(I=>!I))},className:`mb-4 w-full cursor-pointer rounded-[28px] border border-cyan-200/40 bg-[#67d3ff] p-5 text-left text-slate-950 transition-all duration-500 ${p?"shadow-[0_16px_28px_rgba(14,116,144,0.35)]":""}`,children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"mb-1 inline-flex rounded-full bg-black px-2 py-1 text-xs font-bold text-white",children:"NEW  Weekly"}),c.jsxs("h3",{className:"text-5xl font-black tracking-tight",children:[new Date().toLocaleDateString("en-US",{month:"short"})," ",new Date().getDate(),"",new Date().getDate()+6]}),c.jsx("p",{className:"mt-2 text-sm font-semibold opacity-80",children:"My Activity Recaps"})]}),c.jsx("span",{className:"mt-1 rounded-full bg-white/60 px-3 py-1 text-xs font-bold",children:p?"Collapse":"Expand"})]}),c.jsxs("div",{className:"overflow-hidden transition-all duration-500",style:{maxHeight:p?320:0,opacity:p?1:0,marginTop:p?16:0},children:[c.jsxs("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:[c.jsx(ni,{label:"Goals",value:pt.total}),c.jsx(ni,{label:"Completed",value:pt.completed}),c.jsx(ni,{label:"Avg Progress",value:`${pt.avgProgress}%`}),c.jsx(ni,{label:"Check-ins",value:pt.checkIns})]}),c.jsxs("p",{className:"mt-3 rounded-xl bg-white/45 px-3 py-2 text-sm font-semibold",children:["Top performer: ",pt.topGoal]})]})]}),c.jsxs("div",{className:`transition-all duration-500 ${p?"translate-y-1 scale-[0.99] opacity-90":"translate-y-0 scale-100 opacity-100"}`,children:[c.jsx("div",{className:"mb-4 rounded-2xl border border-cyan-300/30 bg-cyan-500/15 p-4 text-sm text-cyan-100",children:ir}),c.jsxs("div",{className:"mb-4 grid gap-3 lg:grid-cols-3",children:[c.jsxs("div",{className:"rounded-[28px] border border-white/15 bg-slate-900/65 p-4 lg:col-span-2",children:[c.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-black",children:"Smart Reminders"}),c.jsx("span",{className:"text-xs text-slate-400",children:"Auto-prioritized"})]}),Ns.length?c.jsx("ul",{className:"space-y-2 text-sm",children:Ns.map(N=>c.jsx("li",{className:`rounded-xl border px-3 py-2 ${N.level==="high"?"border-rose-400/40 bg-rose-500/10 text-rose-100":N.level==="med"?"border-amber-300/35 bg-amber-500/10 text-amber-100":"border-cyan-300/30 bg-cyan-500/10 text-cyan-100"}`,children:N.text},N.id))}):c.jsx("p",{className:"text-sm text-slate-300",children:"No urgent reminders. Youre on track."})]}),c.jsxs("div",{className:"rounded-[28px] border border-white/15 bg-slate-900/65 p-4",children:[c.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-black",children:"Consistency Heatmap"}),c.jsx("button",{onClick:()=>E(N=>!N),className:"rounded-lg border border-white/20 px-3 py-1 text-xs font-semibold",children:S?"Hide":"Expand"})]}),S?c.jsx(Xw,{goals:P,compact:!0}):c.jsx("p",{className:"text-sm text-slate-300",children:"Collapsed to save space on mobile."})]})]}),c.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-3",children:[c.jsx(io,{title:"This Week",statusKey:"thisWeek",tone:"cyan",items:ft.thisWeek,onDropStatus:o,onDragGoal:k,dragGoalId:C}),c.jsx(io,{title:"Next Week",statusKey:"nextWeek",tone:"blue",items:ft.nextWeek,onDropStatus:o,onDragGoal:k,dragGoalId:C}),c.jsx(io,{title:"Blocked",statusKey:"blocked",tone:"orange",items:ft.blocked,onDropStatus:o,onDragGoal:k,dragGoalId:C})]}),c.jsx(Hw,{filter:g,setFilter:v,sort:w,setSort:x,categories:xe}),T.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 bg-slate-900/50 p-10 text-center text-slate-300",children:"No goals found. Create your first goal."}):c.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:T.map(N=>c.jsx(Gw,{goal:N,onEdit:D,onDelete:n,onToggleComplete:z,onQuickProgress:(I,U)=>r(I,{progress:U,completed:U>=100}),onToggleSubtask:s,onAddSubtask:i,onAddJournal:a,onSetWeeklyStatus:o,onOpenDetails:_},N.id))}),c.jsxs("div",{className:"mt-5 rounded-[28px] border border-white/15 bg-gradient-to-br from-fuchsia-300 via-pink-300 to-rose-300 p-4 text-slate-950 shadow-[0_14px_28px_rgba(2,6,23,0.35)]",children:[c.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-black",children:"Proof Timeline"}),c.jsx("span",{className:"rounded-full bg-black px-2 py-1 text-[10px] font-bold uppercase tracking-wide text-white",children:"Gallery"})]}),kn.length?c.jsx("div",{className:"grid gap-3 sm:grid-cols-2 md:grid-cols-3",children:kn.map((N,I)=>{var U;return c.jsxs("div",{className:`rounded-2xl border border-white/50 p-2 ${I%3===0?"bg-cyan-100/80":I%3===1?"bg-emerald-100/80":"bg-orange-100/80"}`,children:[c.jsxs("p",{className:"text-xs font-bold text-slate-800",children:[N.date,"  ",N.goalTitle]}),(U=N.media.type)!=null&&U.startsWith("video/")?c.jsx("video",{src:N.media.dataUrl,controls:!0,className:"mt-1 max-h-36 w-full rounded-xl bg-black"}):c.jsx("img",{src:N.media.dataUrl,alt:"proof",className:"mt-1 max-h-36 w-full rounded-xl object-cover"})]},N.id)})}):c.jsx("p",{className:"text-sm font-semibold text-slate-900/70",children:"No proof media entries yet."})]})]}),c.jsx(Jw,{open:u,onClose:()=>{d(!1),h(null)},onSubmit:Sn,initialGoal:f,userId:l.id}),c.jsx(Yw,{goal:y,open:!!y,onClose:()=>_(null)})]})}function ni({label:e,value:t}){return c.jsxs("div",{className:"rounded-xl bg-white/45 px-3 py-2",children:[c.jsx("p",{className:"text-[11px] font-bold uppercase tracking-wide text-slate-700",children:e}),c.jsx("p",{className:"text-xl font-black text-slate-900",children:t})]})}function io({title:e,items:t,tone:r="cyan",statusKey:n,onDropStatus:s,onDragGoal:i,dragGoalId:a}){const o={cyan:"from-cyan-300 to-sky-400 text-slate-950",blue:"from-indigo-300 to-blue-400 text-slate-950",orange:"from-orange-300 to-amber-400 text-slate-950"},l=b.useRef(null),[u,d]=b.useState(!1);b.useEffect(()=>{const h=l.current;if(!h)return;const g=new IntersectionObserver(([v])=>{v.isIntersecting&&d(!0)},{threshold:.35});return g.observe(h),()=>g.disconnect()},[]);const f=async h=>{h.preventDefault();const g=h.dataTransfer.getData("text/plain")||a;g&&await s(g,n),i(null)};return c.jsxs("div",{ref:l,onDragOver:h=>h.preventDefault(),onDrop:f,"aria-label":`${e} drop zone`,className:`relative overflow-hidden rounded-[28px] border border-white/15 bg-gradient-to-br p-4 ${o[r]||o.cyan}`,children:[c.jsx("div",{className:"absolute -right-2 -bottom-6 text-[120px] font-black leading-none text-black/10",children:t.length||0}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"mb-1 inline-flex rounded-full bg-black px-2 py-1 text-[10px] font-bold uppercase tracking-wide text-white",children:t.length?"Active":"Empty"}),c.jsx("h4",{className:"text-2xl font-black",children:e}),c.jsxs("p",{className:"mb-2 text-xs font-semibold text-slate-900/70",children:[t.length," goals"]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[t.slice(0,5).map((h,g)=>{const v=Math.max(20,Math.min(100,Number(h.progress||0)));return c.jsxs("div",{draggable:!0,onDragStart:w=>{w.dataTransfer.setData("text/plain",h.id),i(h.id)},className:"relative overflow-hidden rounded-xl bg-white/35 px-2 py-2 font-semibold text-slate-900",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 rounded-xl bg-white/40 transition-all duration-700",style:{width:u?`${v}%`:"0%",transitionDelay:`${g*120}ms`}}),c.jsxs("span",{className:"relative z-10",children:[" ",h.title]})]},h.id)}),!t.length&&c.jsx("p",{className:"font-semibold text-slate-900/70",children:"No goals yet"})]})]})]})}function rx(){return c.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-100 p-6 text-center",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mt-2 text-slate-500",children:"Page not found"}),c.jsx(ma,{to:"/",className:"mt-4 inline-block rounded-lg bg-brand-600 px-4 py-2 text-white",children:"Go Home"})]})})}function ao({children:e}){const{authLoading:t}=Pr();return t?c.jsx("div",{className:"grid min-h-screen place-items-center bg-slate-100 text-slate-600",children:"Loading..."}):e}function nx(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-cyan-200 via-sky-300 to-indigo-300 text-slate-950",children:c.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-16",children:[c.jsxs("div",{className:"mb-10 flex items-center gap-3",children:[c.jsx("div",{className:"grid h-12 w-12 place-items-center rounded-2xl bg-brand-500 text-xl",children:c.jsx(Hi,{})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-700",children:"Welcome to"}),c.jsx("h1",{className:"text-3xl font-black tracking-tight",children:"Mjcitytrack"})]})]}),c.jsx("p",{className:"max-w-3xl text-lg text-slate-900/85",children:"Mjcitytrack helps you set goals, track progress, hit deadlines, and stay locked in. You can also use your device camera, microphone, album, and files to attach real proof of progress."}),c.jsx("div",{className:"mt-8 flex flex-wrap gap-3",children:c.jsx(ma,{to:"/dashboard",className:"rounded-xl bg-brand-500 px-5 py-3 font-semibold hover:bg-brand-600",children:"Get Started"})}),c.jsxs("div",{className:"mt-12 grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[c.jsx(si,{icon:c.jsx(Hi,{}),title:"Goal Planning",text:"Create personal, career, fitness, or money goals in seconds."}),c.jsx(si,{icon:c.jsx(pu,{}),title:"Progress Tracking",text:"See completion rates, active goals, and momentum at a glance."}),c.jsx(si,{icon:c.jsx(Qg,{}),title:"Camera + Mic",text:"Capture visual and voice updates directly from your phone."}),c.jsx(si,{icon:c.jsx(Zg,{}),title:"Album + Files",text:"Upload photos, videos, and documents to support your progress."})]})]})})}function si({icon:e,title:t,text:r}){return c.jsxs("div",{className:"rounded-2xl border border-white/60 bg-white/45 p-4 shadow-[0_10px_20px_rgba(15,23,42,0.15)] backdrop-blur",children:[c.jsx("div",{className:"mb-3 text-brand-600",children:e}),c.jsx("h3",{className:"font-bold text-slate-900",children:t}),c.jsx("p",{className:"mt-1 text-sm text-slate-800/80",children:r})]})}function sx(){const{goals:e}=op(),{currentUser:t}=Pr(),r=b.useMemo(()=>{const n=e.filter(v=>v.userId===t.id||v.userId==="seed"),s=n.length,i=n.filter(v=>v.completed).length,a=s-i,o=s?Math.round(n.reduce((v,w)=>v+Number(w.progress||0),0)/s):0,l=n.filter(v=>!v.completed&&v.dueDate&&new Date(v.dueDate)<new Date).length,u=s?Math.round(n.reduce((v,w)=>{var x;return v+Number(((x=w.media)==null?void 0:x.streakCount)||0)},0)/s):0,d=new Date().toISOString().slice(0,7),f=n.reduce((v,w)=>{var x;return v+(((x=w.media)==null?void 0:x.consistencyHistory)||[]).filter(p=>p.startsWith(d)).length},0),h=Math.max(1,s*new Date().getDate()),g=Math.round(f/h*100);return{total:s,completed:i,active:a,avgProgress:o,overdue:l,streakAvg:u,consistency:g}},[e,t.id]);return c.jsx(vu,{title:"Progress",subtitle:"Track how close you are to each target",showAdd:!1,children:c.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-7",children:[c.jsx(lr,{label:"Total Goals",value:r.total}),c.jsx(lr,{label:"Completed",value:r.completed}),c.jsx(lr,{label:"Active",value:r.active}),c.jsx(lr,{label:"Avg Progress",value:`${r.avgProgress}%`}),c.jsx(lr,{label:"Overdue",value:r.overdue}),c.jsx(lr,{label:"Avg Streak",value:`${r.streakAvg}d`}),c.jsx(lr,{label:"Monthly Consistency",value:`${r.consistency}%`})]})})}function lr({label:e,value:t}){return c.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-5 shadow-[0_10px_25px_rgba(2,6,23,0.5)]",children:[c.jsx("p",{className:"text-sm text-slate-300",children:e}),c.jsx("p",{className:"mt-1 text-2xl font-black text-slate-100",children:t})]})}const Ur={color:"#0f172a",WebkitTextFillColor:"#0f172a",opacity:1};function ix(){const{currentUser:e,updateProfile:t,changePassword:r,supabaseEnabled:n}=Pr(),[s,i]=b.useState("No permissions requested yet."),[a,o]=b.useState(!1),l=b.useRef(null),[u,d]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[f,h]=b.useState(""),[g,v]=b.useState(!1),[w,x]=b.useState({name:(e==null?void 0:e.name)||"",sex:(e==null?void 0:e.sex)||"",age:(e==null?void 0:e.age)||"",avatarUrl:(e==null?void 0:e.avatarUrl)||"",avatarPosX:Number((e==null?void 0:e.avatarPosX)??50),avatarPosY:Number((e==null?void 0:e.avatarPosY)??50)}),[p,m]=b.useState(""),y=async()=>{try{const k=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});l.current&&(l.current.srcObject=k),o(!0),i("Camera + microphone access granted.")}catch(k){i(`Permission error: ${k.message}`)}},_=()=>{var P;const k=(P=l.current)==null?void 0:P.srcObject;k&&(k.getTracks().forEach(T=>T.stop()),l.current.srcObject=null),o(!1),i("Camera/mic stream stopped.")},S=async k=>{if(k.preventDefault(),h(""),!u.newPassword||u.newPassword.length<8)return h("New password must be at least 8 characters.");if(u.newPassword!==u.confirmPassword)return h("New password and confirmation do not match.");try{v(!0),await r({currentPassword:u.currentPassword,newPassword:u.newPassword}),h("Password updated successfully."),d({currentPassword:"",newPassword:"",confirmPassword:""})}catch(P){h(P.message||"Could not update password.")}finally{v(!1)}},E=k=>{if(!k)return;const P=new FileReader;P.onload=()=>x(T=>({...T,avatarUrl:P.result})),P.readAsDataURL(k)},C=async()=>{try{await t(w),m("Profile saved.")}catch(k){m(k.message||"Profile update failed.")}};return c.jsx(vu,{title:"Settings",subtitle:"Profile, password, and device permissions",showAdd:!1,children:c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[c.jsxs("div",{id:"account",className:"rounded-[30px] border border-white/25 bg-gradient-to-br from-cyan-300 to-blue-400 p-5 text-slate-950 shadow-[0_16px_30px_rgba(2,6,23,0.25)]",children:[c.jsx("div",{className:"mb-2 inline-flex rounded-full bg-black px-3 py-1 text-[10px] font-bold uppercase tracking-wide text-white",children:"Profile"}),c.jsx("h3",{className:"text-2xl font-black",children:"Personal Details"}),c.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[c.jsx("div",{className:"h-28 w-28 overflow-hidden rounded-full border-4 border-white/70 bg-white/70",children:w.avatarUrl?c.jsx("img",{src:w.avatarUrl,alt:"Profile",className:"h-full w-full scale-125 object-cover",style:{objectPosition:`${w.avatarPosX}% ${w.avatarPosY}%`}}):null}),c.jsxs("label",{className:"mt-3 cursor-pointer text-sm font-bold text-slate-900 underline",children:["Edit Photo",c.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:k=>{var P;return E((P=k.target.files)==null?void 0:P[0])}})]})]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx("input",{style:Ur,value:w.name,onChange:k=>x(P=>({...P,name:k.target.value})),placeholder:"Name",className:"w-full rounded-xl border border-white/60 bg-white/80 px-3 py-2 text-slate-900 placeholder:text-slate-500"}),c.jsx("input",{style:Ur,value:w.sex,onChange:k=>x(P=>({...P,sex:k.target.value})),placeholder:"Sex",className:"w-full rounded-xl border border-white/60 bg-white/80 px-3 py-2 text-slate-900 placeholder:text-slate-500"}),c.jsx("input",{style:Ur,value:w.age,onChange:k=>x(P=>({...P,age:k.target.value})),placeholder:"Age",className:"w-full rounded-xl border border-white/60 bg-white/80 px-3 py-2 text-slate-900 placeholder:text-slate-500"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs font-bold text-slate-800",children:["Center photo horizontally (",w.avatarPosX,"%)"]}),c.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:w.avatarPosX,onChange:k=>x(P=>({...P,avatarPosX:Number(k.target.value)})),className:"w-full accent-blue-700"}),c.jsxs("p",{className:"text-xs font-bold text-slate-800",children:["Center photo vertically (",w.avatarPosY,"%)"]}),c.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:w.avatarPosY,onChange:k=>x(P=>({...P,avatarPosY:Number(k.target.value)})),className:"w-full accent-blue-700"})]}),c.jsx("button",{onClick:C,className:"rounded-xl bg-slate-900 px-4 py-2 font-semibold text-white",children:"Save Profile"}),p&&c.jsx("p",{className:"text-sm font-semibold text-slate-900/80",children:p})]}),c.jsxs("form",{onSubmit:S,className:"mt-6 space-y-3 rounded-2xl border border-white/45 bg-white/45 p-4",children:[c.jsx("h4",{className:"font-black text-slate-900",children:"Change Password"}),!n&&c.jsx("input",{style:Ur,type:"password",value:u.currentPassword,onChange:k=>d(P=>({...P,currentPassword:k.target.value})),className:"w-full rounded-xl border border-white/60 bg-white/80 px-3 py-2 text-slate-900 placeholder:text-slate-500",placeholder:"Current password",required:!0}),c.jsx("input",{style:Ur,type:"password",value:u.newPassword,onChange:k=>d(P=>({...P,newPassword:k.target.value})),className:"w-full rounded-xl border border-white/60 bg-white/80 px-3 py-2 text-slate-900 placeholder:text-slate-500",placeholder:"New password",required:!0}),c.jsx("input",{style:Ur,type:"password",value:u.confirmPassword,onChange:k=>d(P=>({...P,confirmPassword:k.target.value})),className:"w-full rounded-xl border border-white/60 bg-white/80 px-3 py-2 text-slate-900 placeholder:text-slate-500",placeholder:"Confirm new password",required:!0}),c.jsx("button",{type:"submit",disabled:g,className:"rounded-xl bg-slate-900 px-4 py-2 font-semibold text-white",children:g?"Updating...":"Change password"}),f&&c.jsx("p",{className:"text-sm font-semibold text-slate-900/80",children:f})]})]}),c.jsxs("div",{className:"rounded-[30px] border border-white/25 bg-gradient-to-br from-pink-300 to-rose-300 p-5 text-slate-950 shadow-[0_16px_30px_rgba(2,6,23,0.25)]",children:[c.jsx("div",{className:"mb-2 inline-flex rounded-full bg-black px-3 py-1 text-[10px] font-bold uppercase tracking-wide text-white",children:"Device"}),c.jsx("h3",{className:"text-2xl font-black",children:"Phone Media Access"}),c.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900/80",children:"Enable camera, microphone, album, and files for progress updates."}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[c.jsx("button",{onClick:y,className:"rounded-xl bg-slate-900 px-4 py-2 font-semibold text-white",children:"Allow Camera + Mic"}),c.jsx("button",{onClick:_,className:"rounded-xl border border-slate-900/20 bg-white/70 px-4 py-2 font-semibold",children:"Stop"})]}),c.jsx("p",{className:"mt-3 text-sm font-semibold text-slate-900/85",children:s}),c.jsx("video",{ref:l,autoPlay:!0,muted:!0,playsInline:!0,className:"mt-4 w-full rounded-2xl bg-slate-900"}),a&&c.jsx("p",{className:"mt-2 text-xs font-bold text-emerald-700",children:"Live preview enabled"})]})]})})}function ax(){const{currentUser:e}=Pr();return c.jsxs(Cg,{children:[c.jsx(At,{path:"/",element:c.jsx(nx,{})}),c.jsx(At,{path:"/login",element:e?c.jsx(Ic,{to:"/dashboard",replace:!0}):c.jsx(Fw,{})}),c.jsx(At,{path:"/signup",element:c.jsx(Ic,{to:"/login",replace:!0})}),c.jsx(At,{path:"/dashboard",element:c.jsx(ao,{children:c.jsx(tx,{})})}),c.jsx(At,{path:"/progress",element:c.jsx(ao,{children:c.jsx(sx,{})})}),c.jsx(At,{path:"/settings",element:c.jsx(ao,{children:c.jsx(ix,{})})}),c.jsx(At,{path:"*",element:c.jsx(rx,{})})]})}oo.createRoot(document.getElementById("root")).render(c.jsx(bt.StrictMode,{children:c.jsx(Lg,{children:c.jsx(Bw,{children:c.jsx(ex,{children:c.jsx(ax,{})})})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/mjcitytracker/sw.js").catch(()=>{})});
